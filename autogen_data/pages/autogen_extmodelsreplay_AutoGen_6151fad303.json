{
  "url": "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.replay.html",
  "title": "autogen_ext.models.replay — AutoGen",
  "content": "Bases: ChatCompletionClient, Component[ReplayChatCompletionClientConfig]\n\nA mock chat completion client that replays predefined responses using an index-based approach.\n\nThis class simulates a chat completion client by replaying a predefined list of responses. It supports both single completion and streaming responses. The responses can be either strings or CreateResult objects. The client now uses an index-based approach to access the responses, allowing for resetting the state.\n\nThe responses can be either strings or CreateResult objects.\n\nchat_completions (Sequence[Union[str, CreateResult]]) – A list of predefined responses to replay.\n\nValueError(\"No more mock responses available\") – If the list of provided outputs are exhausted.\n\nSimple chat completion client to return pre-defined responses.\n\nSimple streaming chat completion client to return pre-defined responses\n\nUsing .reset to reset the chat client state\n\nThe logical type of the component.\n\nOverride the provider string for the component. This should be used to prevent internal module names being a part of the module name.\n\nalias of ReplayChatCompletionClientConfig\n\nReturn the arguments of the calls made to the create method.\n\nReturn the next completion from the list.\n\nReturn the next completion as a stream.\n\nReturn mock capabilities.\n\nReset the client state and usage to its initial state.\n\nDump the configuration that would be requite to create a new instance of a component matching the configuration of this instance.\n\nT – The configuration of the component.\n\nCreate a new instance of the component from a configuration object.\n\nconfig (T) – The configuration object.\n\nSelf – The new instance of the component.\n\nautogen_ext.models.openai\n\nautogen_ext.models.semantic_kernel",
  "headings": [
    {
      "level": "h1",
      "text": "autogen_ext.models.replay#",
      "id": ""
    }
  ],
  "code_samples": [
    {
      "code": "from autogen_core.models import UserMessage\nfrom autogen_ext.models.replay import ReplayChatCompletionClient\n\n\nasync def example():\n    chat_completions = [\n        \"Hello, how can I assist you today?\",\n        \"I'm happy to help with any questions you have.\",\n        \"Is there anything else I can assist you with?\",\n    ]\n    client = ReplayChatCompletionClient(chat_completions)\n    messages = [UserMessage(content=\"What can you do?\", source=\"user\")]\n    response = await client.create(messages)\n    print(response.content)  # Output: \"Hello, how can I assist you today?\"",
      "language": "python"
    },
    {
      "code": "from autogen_core.models import UserMessage\nfrom autogen_ext.models.replay import ReplayChatCompletionClient\n\n\nasync def example():\n    chat_completions = [\n        \"Hello, how can I assist you today?\",\n        \"I'm happy to help with any questions you have.\",\n        \"Is there anything else I can assist you with?\",\n    ]\n    client = ReplayChatCompletionClient(chat_completions)\n    messages = [UserMessage(content=\"What can you do?\", source=\"user\")]\n    response = await client.create(messages)\n    print(response.content)  # Output: \"Hello, how can I assist you today?\"",
      "language": "python"
    },
    {
      "code": "import asyncio\nfrom autogen_core.models import UserMessage\nfrom autogen_ext.models.replay import ReplayChatCompletionClient\n\n\nasync def example():\n    chat_completions = [\n        \"Hello, how can I assist you today?\",\n        \"I'm happy to help with any questions you have.\",\n        \"Is there anything else I can assist you with?\",\n    ]\n    client = ReplayChatCompletionClient(chat_completions)\n    messages = [UserMessage(content=\"What can you do?\", source=\"user\")]\n\n    async for token in client.create_stream(messages):\n        print(token, end=\"\")  # Output: \"Hello, how can I assist you today?\"\n\n    async for token in client.create_stream(messages):\n        print(token, end=\"\")  # Output: \"I'm happy to help with any questions you have.\"\n\n    asyncio.run(example())",
      "language": "python"
    },
    {
      "code": "import asyncio\nfrom autogen_core.models import UserMessage\nfrom autogen_ext.models.replay import ReplayChatCompletionClient\n\n\nasync def example():\n    chat_completions = [\n        \"Hello, how can I assist you today?\",\n        \"I'm happy to help with any questions you have.\",\n        \"Is there anything else I can assist you with?\",\n    ]\n    client = ReplayChatCompletionClient(chat_completions)\n    messages = [UserMessage(content=\"What can you do?\", source=\"user\")]\n\n    async for token in client.create_stream(messages):\n        print(token, end=\"\")  # Output: \"Hello, how can I assist you today?\"\n\n    async for token in client.create_stream(messages):\n        print(token, end=\"\")  # Output: \"I'm happy to help with any questions you have.\"\n\n    asyncio.run(example())",
      "language": "python"
    },
    {
      "code": "import asyncio\nfrom autogen_core.models import UserMessage\nfrom autogen_ext.models.replay import ReplayChatCompletionClient\n\n\nasync def example():\n    chat_completions = [\n        \"Hello, how can I assist you today?\",\n    ]\n    client = ReplayChatCompletionClient(chat_completions)\n    messages = [UserMessage(content=\"What can you do?\", source=\"user\")]\n    response = await client.create(messages)\n    print(response.content)  # Output: \"Hello, how can I assist you today?\"\n\n    response = await client.create(messages)  # Raises ValueError(\"No more mock responses available\")\n\n    client.reset()  # Reset the client state (current index of message and token usages)\n    response = await client.create(messages)\n    print(response.content)  # Output: \"Hello, how can I assist you today?\" again\n\n\nasyncio.run(example())",
      "language": "python"
    },
    {
      "code": "import asyncio\nfrom autogen_core.models import UserMessage\nfrom autogen_ext.models.replay import ReplayChatCompletionClient\n\n\nasync def example():\n    chat_completions = [\n        \"Hello, how can I assist you today?\",\n    ]\n    client = ReplayChatCompletionClient(chat_completions)\n    messages = [UserMessage(content=\"What can you do?\", source=\"user\")]\n    response = await client.create(messages)\n    print(response.content)  # Output: \"Hello, how can I assist you today?\"\n\n    response = await client.create(messages)  # Raises ValueError(\"No more mock responses available\")\n\n    client.reset()  # Reset the client state (current index of message and token usages)\n    response = await client.create(messages)\n    print(response.content)  # Output: \"Hello, how can I assist you today?\" again\n\n\nasyncio.run(example())",
      "language": "python"
    }
  ],
  "patterns": [],
  "links": [
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.replay.html",
    "https://microsoft.github.io/autogen/stable/index.html",
    "https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/index.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/index.html",
    "https://microsoft.github.io/autogen/stable/user-guide/extensions-user-guide/index.html",
    "https://microsoft.github.io/autogen/stable/user-guide/autogenstudio-user-guide/index.html",
    "https://microsoft.github.io/autogen/stable/reference/index.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.agents.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.base.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.conditions.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.messages.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.state.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.teams.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.tools.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.ui.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.utils.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.code_executor.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.exceptions.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.logging.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.memory.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.model_context.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.models.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.tool_agent.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.tools.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.utils.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.cache_store.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.code_executors.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.experimental.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.memory.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.runtimes.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.teams.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.ui.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.agents.azure.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.agents.file_surfer.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.agents.magentic_one.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.agents.openai.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.agents.video_surfer.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.agents.web_surfer.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.auth.azure.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.cache_store.diskcache.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.cache_store.redis.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.code_executors.azure.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.code_executors.docker.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.code_executors.docker_jupyter.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.code_executors.jupyter.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.code_executors.local.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.experimental.task_centric_memory.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.memory.canvas.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.memory.chromadb.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.memory.mem0.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.memory.redis.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.anthropic.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.azure.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.cache.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.llama_cpp.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.ollama.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.openai.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.semantic_kernel.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.runtimes.grpc.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.teams.magentic_one.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.tools.azure.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.tools.code_execution.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.tools.graphrag.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.tools.http.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.tools.langchain.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.tools.mcp.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.tools.semantic_kernel.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.agents.video_surfer.tools.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.agents.web_surfer.playwright_controller.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.experimental.task_centric_memory.utils.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.anthropic.config.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.azure.config.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.ollama.config.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.openai.config.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.runtimes.grpc.protos.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.runtimes.grpc.protos.agent_worker_pb2.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.runtimes.grpc.protos.agent_worker_pb2_grpc.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.runtimes.grpc.protos.cloudevent_pb2.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.runtimes.grpc.protos.cloudevent_pb2_grpc.html"
  ]
}
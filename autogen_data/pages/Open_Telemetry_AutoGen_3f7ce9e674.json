{
  "url": "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/framework/telemetry.html",
  "title": "Open Telemetry — AutoGen",
  "content": "AutoGen has native support for open telemetry. This allows you to collect telemetry data from your application and send it to a telemetry backend of your choosing.\n\nThese are the components that are currently instrumented:\n\nRuntime (SingleThreadedAgentRuntime and GrpcWorkerAgentRuntime).\n\nTool (BaseTool) with the execute_tool span in GenAI semantic convention for tools.\n\nAgentChat Agents (BaseChatAgent) with the create_agent and invoke_agent spans in GenAI semantic convention for agents.\n\nTo disable the agent runtime telemetry, you can set the trace_provider to opentelemetry.trace.NoOpTracerProvider in the runtime constructor.\n\nAdditionally, you can set the environment variable AUTOGEN_DISABLE_RUNTIME_TRACING to true to disable the agent runtime telemetry if you don’t have access to the runtime constructor. For example, if you are using ComponentConfig.\n\nTo instrument your application, you will need an sdk and an exporter. You may already have these if your application is already instrumented with open telemetry.\n\nIf you do not have open telemetry set up in your application, you can follow these steps to instrument your application.\n\nDepending on your open telemetry collector, you can use grpc or http to export your telemetry.\n\nNext, we need to get a tracer provider:\n\nNow you can send the trace_provider when creating your runtime:\n\nAnd that’s it! Your application is now instrumented with open telemetry. You can now view your telemetry data in your telemetry backend.\n\nIf you have open telemetry already set up in your application, you can pass the tracer provider to the runtime when creating it:\n\nSee Tracing and Observability for a complete example of how to set up open telemetry with AutoGen.\n\nDistributed Agent Runtime",
  "headings": [
    {
      "level": "h1",
      "text": "Open Telemetry#",
      "id": ""
    },
    {
      "level": "h2",
      "text": "Instrumenting your application#",
      "id": ""
    },
    {
      "level": "h2",
      "text": "Clean instrumentation#",
      "id": ""
    },
    {
      "level": "h3",
      "text": "Existing instrumentation#",
      "id": ""
    },
    {
      "level": "h3",
      "text": "Examples#",
      "id": ""
    }
  ],
  "code_samples": [
    {
      "code": "pip install opentelemetry-sdk",
      "language": "unknown"
    },
    {
      "code": "pip install opentelemetry-sdk",
      "language": "unknown"
    },
    {
      "code": "# Pick one of the following\n\npip install opentelemetry-exporter-otlp-proto-http\npip install opentelemetry-exporter-otlp-proto-grpc",
      "language": "markdown"
    },
    {
      "code": "# Pick one of the following\n\npip install opentelemetry-exporter-otlp-proto-http\npip install opentelemetry-exporter-otlp-proto-grpc",
      "language": "markdown"
    },
    {
      "code": "from opentelemetry import trace\nfrom opentelemetry.exporter.otlp.proto.grpc.trace_exporter import OTLPSpanExporter\nfrom opentelemetry.sdk.resources import Resource\nfrom opentelemetry.sdk.trace import TracerProvider\nfrom opentelemetry.sdk.trace.export import BatchSpanProcessor\n\ndef configure_oltp_tracing(endpoint: str = None) -> trace.TracerProvider:\n    # Configure Tracing\n    tracer_provider = TracerProvider(resource=Resource({\"service.name\": \"my-service\"}))\n    processor = BatchSpanProcessor(OTLPSpanExporter())\n    tracer_provider.add_span_processor(processor)\n    trace.set_tracer_provider(tracer_provider)\n\n    return tracer_provider",
      "language": "python"
    },
    {
      "code": "from opentelemetry import trace\nfrom opentelemetry.exporter.otlp.proto.grpc.trace_exporter import OTLPSpanExporter\nfrom opentelemetry.sdk.resources import Resource\nfrom opentelemetry.sdk.trace import TracerProvider\nfrom opentelemetry.sdk.trace.export import BatchSpanProcessor\n\ndef configure_oltp_tracing(endpoint: str = None) -> trace.TracerProvider:\n    # Configure Tracing\n    tracer_provider = TracerProvider(resource=Resource({\"service.name\": \"my-service\"}))\n    processor = BatchSpanProcessor(OTLPSpanExporter())\n    tracer_provider.add_span_processor(processor)\n    trace.set_tracer_provider(tracer_provider)\n\n    return tracer_provider",
      "language": "python"
    },
    {
      "code": "# for single threaded runtime\nsingle_threaded_runtime = SingleThreadedAgentRuntime(tracer_provider=tracer_provider)\n# or for worker runtime\nworker_runtime = GrpcWorkerAgentRuntime(tracer_provider=tracer_provider)",
      "language": "markdown"
    },
    {
      "code": "# for single threaded runtime\nsingle_threaded_runtime = SingleThreadedAgentRuntime(tracer_provider=tracer_provider)\n# or for worker runtime\nworker_runtime = GrpcWorkerAgentRuntime(tracer_provider=tracer_provider)",
      "language": "markdown"
    },
    {
      "code": "from opentelemetry import trace\n\n# Get the tracer provider from your application\ntracer_provider = trace.get_tracer_provider()\n\n# for single threaded runtime\nsingle_threaded_runtime = SingleThreadedAgentRuntime(tracer_provider=tracer_provider)\n# or for worker runtime\nworker_runtime = GrpcWorkerAgentRuntime(tracer_provider=tracer_provider)",
      "language": "python"
    },
    {
      "code": "from opentelemetry import trace\n\n# Get the tracer provider from your application\ntracer_provider = trace.get_tracer_provider()\n\n# for single threaded runtime\nsingle_threaded_runtime = SingleThreadedAgentRuntime(tracer_provider=tracer_provider)\n# or for worker runtime\nworker_runtime = GrpcWorkerAgentRuntime(tracer_provider=tracer_provider)",
      "language": "python"
    }
  ],
  "patterns": [],
  "links": [
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/framework/telemetry.html",
    "https://microsoft.github.io/autogen/stable/index.html",
    "https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/index.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/index.html",
    "https://microsoft.github.io/autogen/stable/user-guide/extensions-user-guide/index.html",
    "https://microsoft.github.io/autogen/stable/user-guide/autogenstudio-user-guide/index.html",
    "https://microsoft.github.io/autogen/stable/reference/index.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/installation.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/quickstart.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/core-concepts/agent-and-multi-agent-application.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/core-concepts/architecture.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/core-concepts/application-stack.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/core-concepts/agent-identity-and-lifecycle.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/core-concepts/topic-and-subscription.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/framework/agent-and-agent-runtime.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/framework/message-and-communication.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/framework/logging.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/framework/distributed-agent-runtime.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/framework/component-config.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/components/model-clients.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/components/model-context.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/components/tools.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/components/workbench.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/components/command-line-code-executors.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/design-patterns/intro.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/design-patterns/concurrent-agents.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/design-patterns/sequential-workflow.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/design-patterns/group-chat.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/design-patterns/handoffs.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/design-patterns/mixture-of-agents.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/design-patterns/multi-agent-debate.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/design-patterns/reflection.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/design-patterns/code-execution-groupchat.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/cookbook/index.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/cookbook/azure-openai-with-aad-auth.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/cookbook/termination-with-intervention.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/cookbook/tool-use-with-intervention.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/cookbook/extracting-results-with-an-agent.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/cookbook/openai-assistant-agent.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/cookbook/langgraph-agent.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/cookbook/llamaindex-agent.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/cookbook/local-llms-ollama-litellm.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/cookbook/instrumenting.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/cookbook/topic-subscription-scenarios.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/cookbook/structured-output-agent.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/cookbook/llm-usage-logger.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/faqs.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.runtimes.grpc.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.tools.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.agents.html",
    "https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/tracing.html"
  ]
}
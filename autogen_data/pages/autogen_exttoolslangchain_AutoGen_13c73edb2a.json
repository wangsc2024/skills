{
  "url": "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.tools.langchain.html",
  "title": "autogen_ext.tools.langchain — AutoGen",
  "content": "Bases: BaseTool[BaseModel, Any]\n\nAllows you to wrap a LangChain tool and make it available to AutoGen.\n\nThis class requires the langchain extra for the autogen-ext package.\n\nlangchain_tool (LangChainTool) – A LangChain tool to wrap\n\nUse the PythonAstREPLTool from the langchain_experimental package to create a tool that allows you to interact with a Pandas DataFrame.\n\nThis example demonstrates how to use the SQLDatabaseToolkit from the langchain_community package to interact with an SQLite database. It uses the RoundRobinGroupChat to iterate the single agent over multiple steps. If you want to one step at a time, you can just call run_stream method of the AssistantAgent class directly.\n\nautogen_ext.tools.http\n\nautogen_ext.tools.mcp",
  "headings": [
    {
      "level": "h1",
      "text": "autogen_ext.tools.langchain#",
      "id": ""
    }
  ],
  "code_samples": [
    {
      "code": "pip install -U \"autogen-ext[langchain]\"",
      "language": "unknown"
    },
    {
      "code": "pip install -U \"autogen-ext[langchain]\"",
      "language": "unknown"
    },
    {
      "code": "import asyncio\nimport pandas as pd\nfrom langchain_experimental.tools.python.tool import PythonAstREPLTool\nfrom autogen_ext.tools.langchain import LangChainToolAdapter\nfrom autogen_ext.models.openai import OpenAIChatCompletionClient\nfrom autogen_agentchat.messages import TextMessage\nfrom autogen_agentchat.agents import AssistantAgent\nfrom autogen_agentchat.ui import Console\nfrom autogen_core import CancellationToken\n\n\nasync def main() -> None:\n    df = pd.read_csv(\"https://raw.githubusercontent.com/pandas-dev/pandas/main/doc/data/titanic.csv\")  # type: ignore\n    tool = LangChainToolAdapter(PythonAstREPLTool(locals={\"df\": df}))\n    model_client = OpenAIChatCompletionClient(model=\"gpt-4o\")\n    agent = AssistantAgent(\n        \"assistant\",\n        tools=[tool],\n        model_client=model_client,\n        system_message=\"Use the `df` variable to access the dataset.\",\n    )\n    await Console(\n        agent.on_messages_stream(\n            [TextMessage(content=\"What's the average age of the passengers?\", source=\"user\")], CancellationToken()\n        )\n    )\n\n\nasyncio.run(main())",
      "language": "python"
    },
    {
      "code": "import asyncio\nimport pandas as pd\nfrom langchain_experimental.tools.python.tool import PythonAstREPLTool\nfrom autogen_ext.tools.langchain import LangChainToolAdapter\nfrom autogen_ext.models.openai import OpenAIChatCompletionClient\nfrom autogen_agentchat.messages import TextMessage\nfrom autogen_agentchat.agents import AssistantAgent\nfrom autogen_agentchat.ui import Console\nfrom autogen_core import CancellationToken\n\n\nasync def main() -> None:\n    df = pd.read_csv(\"https://raw.githubusercontent.com/pandas-dev/pandas/main/doc/data/titanic.csv\")  # type: ignore\n    tool = LangChainToolAdapter(PythonAstREPLTool(locals={\"df\": df}))\n    model_client = OpenAIChatCompletionClient(model=\"gpt-4o\")\n    agent = AssistantAgent(\n        \"assistant\",\n        tools=[tool],\n        model_client=model_client,\n        system_message=\"Use the `df` variable to access the dataset.\",\n    )\n    await Console(\n        agent.on_messages_stream(\n            [TextMessage(content=\"What's the average age of the passengers?\", source=\"user\")], CancellationToken()\n        )\n    )\n\n\nasyncio.run(main())",
      "language": "python"
    },
    {
      "code": "import asyncio\nimport sqlite3\n\nimport requests\nfrom autogen_agentchat.agents import AssistantAgent\nfrom autogen_agentchat.conditions import TextMentionTermination\nfrom autogen_agentchat.teams import RoundRobinGroupChat\nfrom autogen_agentchat.ui import Console\nfrom autogen_ext.models.openai import OpenAIChatCompletionClient\nfrom autogen_ext.tools.langchain import LangChainToolAdapter\nfrom langchain_community.agent_toolkits.sql.toolkit import SQLDatabaseToolkit\nfrom langchain_community.utilities.sql_database import SQLDatabase\nfrom langchain_openai import ChatOpenAI\nfrom sqlalchemy import Engine, create_engine\nfrom sqlalchemy.pool import StaticPool\n\n\ndef get_engine_for_chinook_db() -> Engine:\n    url = \"https://raw.githubusercontent.com/lerocha/chinook-database/master/ChinookDatabase/DataSources/Chinook_Sqlite.sql\"\n    response = requests.get(url)\n    sql_script = response.text\n    connection = sqlite3.connect(\":memory:\", check_same_thread=False)\n    connection.executescript(sql_script)\n    return create_engine(\n        \"sqlite://\",\n        creator=lambda: connection,\n        poolclass=StaticPool,\n        connect_args={\"check_same_thread\": False},\n    )\n\n\nasync def main() -> None:\n    # Create the engine and database wrapper.\n    engine = get_engine_for_chinook_db()\n    db = SQLDatabase(engine)\n\n    # Create the toolkit.\n    llm = ChatOpenAI(temperature=0)\n    toolkit = SQLDatabaseToolkit(db=db, llm=llm)\n\n    # Create the LangChain tool adapter for every tool in the toolkit.\n    tools = [LangChainToolAdapter(tool) for tool in toolkit.get_tools()]\n\n    # Create the chat completion client.\n    model_client = OpenAIChatCompletionClient(model=\"gpt-4o\")\n\n    # Create the assistant agent.\n    agent = AssistantAgent(\n        \"assistant\",\n        model_client=model_client,\n        tools=tools,  # type: ignore\n        model_client_stream=True,\n        system_message=\"Respond with 'TERMINATE' if the task is completed.\",\n    )\n\n    # Create termination condition.\n    termination = TextMentionTermination(\"TERMINATE\")\n\n    # Create a round-robin group chat to iterate the single agent over multiple steps.\n    chat = RoundRobinGroupChat([agent], termination_condition=termination)\n\n    # Run the chat.\n    await Console(chat.run_stream(task=\"Show some tables in the database\"))\n\n\nif __name__ == \"__main__\":\n    asyncio.run(main())",
      "language": "python"
    },
    {
      "code": "import asyncio\nimport sqlite3\n\nimport requests\nfrom autogen_agentchat.agents import AssistantAgent\nfrom autogen_agentchat.conditions import TextMentionTermination\nfrom autogen_agentchat.teams import RoundRobinGroupChat\nfrom autogen_agentchat.ui import Console\nfrom autogen_ext.models.openai import OpenAIChatCompletionClient\nfrom autogen_ext.tools.langchain import LangChainToolAdapter\nfrom langchain_community.agent_toolkits.sql.toolkit import SQLDatabaseToolkit\nfrom langchain_community.utilities.sql_database import SQLDatabase\nfrom langchain_openai import ChatOpenAI\nfrom sqlalchemy import Engine, create_engine\nfrom sqlalchemy.pool import StaticPool\n\n\ndef get_engine_for_chinook_db() -> Engine:\n    url = \"https://raw.githubusercontent.com/lerocha/chinook-database/master/ChinookDatabase/DataSources/Chinook_Sqlite.sql\"\n    response = requests.get(url)\n    sql_script = response.text\n    connection = sqlite3.connect(\":memory:\", check_same_thread=False)\n    connection.executescript(sql_script)\n    return create_engine(\n        \"sqlite://\",\n        creator=lambda: connection,\n        poolclass=StaticPool,\n        connect_args={\"check_same_thread\": False},\n    )\n\n\nasync def main() -> None:\n    # Create the engine and database wrapper.\n    engine = get_engine_for_chinook_db()\n    db = SQLDatabase(engine)\n\n    # Create the toolkit.\n    llm = ChatOpenAI(temperature=0)\n    toolkit = SQLDatabaseToolkit(db=db, llm=llm)\n\n    # Create the LangChain tool adapter for every tool in the toolkit.\n    tools = [LangChainToolAdapter(tool) for tool in toolkit.get_tools()]\n\n    # Create the chat completion client.\n    model_client = OpenAIChatCompletionClient(model=\"gpt-4o\")\n\n    # Create the assistant agent.\n    agent = AssistantAgent(\n        \"assistant\",\n        model_client=model_client,\n        tools=tools,  # type: ignore\n        model_client_stream=True,\n        system_message=\"Respond with 'TERMINATE' if the task is completed.\",\n    )\n\n    # Create termination condition.\n    termination = TextMentionTermination(\"TERMINATE\")\n\n    # Create a round-robin group chat to iterate the single agent over multiple steps.\n    chat = RoundRobinGroupChat([agent], termination_condition=termination)\n\n    # Run the chat.\n    await Console(chat.run_stream(task=\"Show some tables in the database\"))\n\n\nif __name__ == \"__main__\":\n    asyncio.run(main())",
      "language": "python"
    }
  ],
  "patterns": [],
  "links": [
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.tools.langchain.html",
    "https://microsoft.github.io/autogen/stable/index.html",
    "https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/index.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/index.html",
    "https://microsoft.github.io/autogen/stable/user-guide/extensions-user-guide/index.html",
    "https://microsoft.github.io/autogen/stable/user-guide/autogenstudio-user-guide/index.html",
    "https://microsoft.github.io/autogen/stable/reference/index.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.agents.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.base.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.conditions.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.messages.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.state.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.teams.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.tools.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.ui.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.utils.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.code_executor.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.exceptions.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.logging.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.memory.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.model_context.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.models.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.tool_agent.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.tools.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.utils.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.cache_store.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.code_executors.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.experimental.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.memory.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.runtimes.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.teams.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.ui.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.agents.azure.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.agents.file_surfer.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.agents.magentic_one.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.agents.openai.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.agents.video_surfer.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.agents.web_surfer.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.auth.azure.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.cache_store.diskcache.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.cache_store.redis.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.code_executors.azure.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.code_executors.docker.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.code_executors.docker_jupyter.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.code_executors.jupyter.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.code_executors.local.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.experimental.task_centric_memory.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.memory.canvas.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.memory.chromadb.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.memory.mem0.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.memory.redis.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.anthropic.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.azure.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.cache.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.llama_cpp.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.ollama.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.openai.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.replay.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.semantic_kernel.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.runtimes.grpc.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.teams.magentic_one.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.tools.azure.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.tools.code_execution.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.tools.graphrag.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.tools.http.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.tools.mcp.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.tools.semantic_kernel.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.agents.video_surfer.tools.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.agents.web_surfer.playwright_controller.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.experimental.task_centric_memory.utils.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.anthropic.config.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.azure.config.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.ollama.config.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.openai.config.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.runtimes.grpc.protos.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.runtimes.grpc.protos.agent_worker_pb2.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.runtimes.grpc.protos.agent_worker_pb2_grpc.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.runtimes.grpc.protos.cloudevent_pb2.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.runtimes.grpc.protos.cloudevent_pb2_grpc.html"
  ]
}
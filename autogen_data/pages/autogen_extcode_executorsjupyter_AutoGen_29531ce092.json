{
  "url": "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.code_executors.jupyter.html",
  "title": "autogen_ext.code_executors.jupyter — AutoGen",
  "content": "Bases: CodeExecutor, Component[JupyterCodeExecutorConfig]\n\nA code executor class that executes code statefully using [nbclient](jupyter/nbclient).\n\nThis will execute code on the local machine. If being used with LLM generated code, caution should be used.\n\nExample of using it directly:\n\nExample of using it with PythonCodeExecutionTool:\n\nExample of using it inside a CodeExecutorAgent:\n\nkernel_name (str) – The kernel name to use. By default, “python3”.\n\ntimeout (int) – The timeout for code execution, by default 60.\n\noutput_dir (Path) – The directory to save output files, by default a temporary directory.\n\nUsing the current directory (“.”) as output directory is deprecated. Using it will raise a deprecation warning.\n\nalias of JupyterCodeExecutorConfig\n\nOverride the provider string for the component. This should be used to prevent internal module names being a part of the module name.\n\nExecute code blocks and return the result.\n\ncode_blocks (list[CodeBlock]) – The code blocks to execute.\n\nJupyterCodeResult – The result of the code execution.\n\nRestart the code executor.\n\n(Experimental) Start the code executor.\n\nInitializes the Jupyter Notebook execution environment by creating a new notebook and setting it up with the specified Jupyter Kernel. Marks the executor as started, allowing for code execution. This method should be called before executing any code blocks.\n\n(Experimental) Stop the code executor.\n\nTerminates the Jupyter Notebook execution by exiting the kernel context and cleaning up the associated resources.\n\nA code result class for Jupyter code executor.\n\nautogen_ext.code_executors.docker_jupyter\n\nautogen_ext.code_executors.local",
  "headings": [
    {
      "level": "h1",
      "text": "autogen_ext.code_executors.jupyter#",
      "id": ""
    }
  ],
  "code_samples": [
    {
      "code": "import asyncio\nfrom autogen_core import CancellationToken\nfrom autogen_core.code_executor import CodeBlock\nfrom autogen_ext.code_executors.jupyter import JupyterCodeExecutor\n\n\nasync def main() -> None:\n    async with JupyterCodeExecutor() as executor:\n        cancel_token = CancellationToken()\n        code_blocks = [CodeBlock(code=\"print('hello world!')\", language=\"python\")]\n        code_result = await executor.execute_code_blocks(code_blocks, cancel_token)\n        print(code_result)\n\n\nasyncio.run(main())",
      "language": "python"
    },
    {
      "code": "import asyncio\nfrom autogen_core import CancellationToken\nfrom autogen_core.code_executor import CodeBlock\nfrom autogen_ext.code_executors.jupyter import JupyterCodeExecutor\n\n\nasync def main() -> None:\n    async with JupyterCodeExecutor() as executor:\n        cancel_token = CancellationToken()\n        code_blocks = [CodeBlock(code=\"print('hello world!')\", language=\"python\")]\n        code_result = await executor.execute_code_blocks(code_blocks, cancel_token)\n        print(code_result)\n\n\nasyncio.run(main())",
      "language": "python"
    },
    {
      "code": "import asyncio\nfrom autogen_agentchat.agents import AssistantAgent\nfrom autogen_ext.code_executors.jupyter import JupyterCodeExecutor\nfrom autogen_ext.models.openai import OpenAIChatCompletionClient\nfrom autogen_ext.tools.code_execution import PythonCodeExecutionTool\n\n\nasync def main() -> None:\n    async with JupyterCodeExecutor() as executor:\n        tool = PythonCodeExecutionTool(executor)\n        model_client = OpenAIChatCompletionClient(model=\"gpt-4o\")\n        agent = AssistantAgent(\"assistant\", model_client=model_client, tools=[tool])\n        result = await agent.run(task=\"What is the 10th Fibonacci number? Use Python to calculate it.\")\n        print(result)\n\n\nasyncio.run(main())",
      "language": "python"
    },
    {
      "code": "import asyncio\nfrom autogen_agentchat.agents import AssistantAgent\nfrom autogen_ext.code_executors.jupyter import JupyterCodeExecutor\nfrom autogen_ext.models.openai import OpenAIChatCompletionClient\nfrom autogen_ext.tools.code_execution import PythonCodeExecutionTool\n\n\nasync def main() -> None:\n    async with JupyterCodeExecutor() as executor:\n        tool = PythonCodeExecutionTool(executor)\n        model_client = OpenAIChatCompletionClient(model=\"gpt-4o\")\n        agent = AssistantAgent(\"assistant\", model_client=model_client, tools=[tool])\n        result = await agent.run(task=\"What is the 10th Fibonacci number? Use Python to calculate it.\")\n        print(result)\n\n\nasyncio.run(main())",
      "language": "python"
    },
    {
      "code": "import asyncio\nfrom autogen_agentchat.agents import CodeExecutorAgent\nfrom autogen_agentchat.messages import TextMessage\nfrom autogen_ext.code_executors.jupyter import JupyterCodeExecutor\nfrom autogen_core import CancellationToken\n\n\nasync def main() -> None:\n    async with JupyterCodeExecutor() as executor:\n        code_executor_agent = CodeExecutorAgent(\"code_executor\", code_executor=executor)\n        task = TextMessage(\n            content='''Here is some code\n    ```python\n    print('Hello world')\n    ```\n    ''',\n            source=\"user\",\n        )\n        response = await code_executor_agent.on_messages([task], CancellationToken())\n        print(response.chat_message)\n\n\nasyncio.run(main())",
      "language": "python"
    },
    {
      "code": "import asyncio\nfrom autogen_agentchat.agents import CodeExecutorAgent\nfrom autogen_agentchat.messages import TextMessage\nfrom autogen_ext.code_executors.jupyter import JupyterCodeExecutor\nfrom autogen_core import CancellationToken\n\n\nasync def main() -> None:\n    async with JupyterCodeExecutor() as executor:\n        code_executor_agent = CodeExecutorAgent(\"code_executor\", code_executor=executor)\n        task = TextMessage(\n            content='''Here is some code\n    ```python\n    print('Hello world')\n    ```\n    ''',\n            source=\"user\",\n        )\n        response = await code_executor_agent.on_messages([task], CancellationToken())\n        print(response.chat_message)\n\n\nasyncio.run(main())",
      "language": "python"
    }
  ],
  "patterns": [],
  "links": [
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.code_executors.jupyter.html",
    "https://microsoft.github.io/autogen/stable/index.html",
    "https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/index.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/index.html",
    "https://microsoft.github.io/autogen/stable/user-guide/extensions-user-guide/index.html",
    "https://microsoft.github.io/autogen/stable/user-guide/autogenstudio-user-guide/index.html",
    "https://microsoft.github.io/autogen/stable/reference/index.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.agents.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.base.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.conditions.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.messages.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.state.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.teams.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.tools.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.ui.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.utils.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.code_executor.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.exceptions.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.logging.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.memory.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.model_context.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.models.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.tool_agent.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.tools.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.utils.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.cache_store.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.code_executors.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.experimental.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.memory.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.runtimes.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.teams.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.ui.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.agents.azure.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.agents.file_surfer.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.agents.magentic_one.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.agents.openai.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.agents.video_surfer.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.agents.web_surfer.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.auth.azure.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.cache_store.diskcache.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.cache_store.redis.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.code_executors.azure.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.code_executors.docker.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.code_executors.docker_jupyter.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.code_executors.local.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.experimental.task_centric_memory.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.memory.canvas.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.memory.chromadb.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.memory.mem0.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.memory.redis.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.anthropic.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.azure.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.cache.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.llama_cpp.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.ollama.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.openai.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.replay.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.semantic_kernel.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.runtimes.grpc.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.teams.magentic_one.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.tools.azure.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.tools.code_execution.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.tools.graphrag.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.tools.http.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.tools.langchain.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.tools.mcp.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.tools.semantic_kernel.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.agents.video_surfer.tools.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.agents.web_surfer.playwright_controller.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.experimental.task_centric_memory.utils.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.anthropic.config.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.azure.config.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.ollama.config.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.openai.config.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.runtimes.grpc.protos.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.runtimes.grpc.protos.agent_worker_pb2.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.runtimes.grpc.protos.agent_worker_pb2_grpc.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.runtimes.grpc.protos.cloudevent_pb2.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.runtimes.grpc.protos.cloudevent_pb2_grpc.html"
  ]
}
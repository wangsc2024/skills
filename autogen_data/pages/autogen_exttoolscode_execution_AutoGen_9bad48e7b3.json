{
  "url": "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.tools.code_execution.html",
  "title": "autogen_ext.tools.code_execution — AutoGen",
  "content": "Show JSON schema{ \"title\": \"CodeExecutionInput\", \"type\": \"object\", \"properties\": { \"code\": { \"description\": \"The contents of the Python code block that should be executed\", \"title\": \"Code\", \"type\": \"string\" } }, \"required\": [ \"code\" ] }\n\nThe contents of the Python code block that should be executed\n\nShow JSON schema{ \"title\": \"CodeExecutionResult\", \"type\": \"object\", \"properties\": { \"success\": { \"title\": \"Success\", \"type\": \"boolean\" }, \"output\": { \"title\": \"Output\", \"type\": \"string\" } }, \"required\": [ \"success\", \"output\" ] }\n\nBases: BaseTool[CodeExecutionInput, CodeExecutionResult], Component[PythonCodeExecutionToolConfig]\n\nA tool that executes Python code in a code executor and returns output.\n\nautogen_ext.code_executors.local.LocalCommandLineCodeExecutor\n\nautogen_ext.code_executors.docker.DockerCommandLineCodeExecutor\n\nautogen_ext.code_executors.azure.ACADynamicSessionsCodeExecutor\n\nexecutor (CodeExecutor) – The code executor that will be used to execute the code blocks.\n\nalias of PythonCodeExecutionToolConfig\n\nOverride the provider string for the component. This should be used to prevent internal module names being a part of the module name.\n\nautogen_ext.tools.azure\n\nautogen_ext.tools.graphrag",
  "headings": [
    {
      "level": "h1",
      "text": "autogen_ext.tools.code_execution#",
      "id": ""
    }
  ],
  "code_samples": [
    {
      "code": "{\n   \"title\": \"CodeExecutionInput\",\n   \"type\": \"object\",\n   \"properties\": {\n      \"code\": {\n         \"description\": \"The contents of the Python code block that should be executed\",\n         \"title\": \"Code\",\n         \"type\": \"string\"\n      }\n   },\n   \"required\": [\n      \"code\"\n   ]\n}",
      "language": "json"
    },
    {
      "code": "{\n   \"title\": \"CodeExecutionInput\",\n   \"type\": \"object\",\n   \"properties\": {\n      \"code\": {\n         \"description\": \"The contents of the Python code block that should be executed\",\n         \"title\": \"Code\",\n         \"type\": \"string\"\n      }\n   },\n   \"required\": [\n      \"code\"\n   ]\n}",
      "language": "json"
    },
    {
      "code": "{\n   \"title\": \"CodeExecutionResult\",\n   \"type\": \"object\",\n   \"properties\": {\n      \"success\": {\n         \"title\": \"Success\",\n         \"type\": \"boolean\"\n      },\n      \"output\": {\n         \"title\": \"Output\",\n         \"type\": \"string\"\n      }\n   },\n   \"required\": [\n      \"success\",\n      \"output\"\n   ]\n}",
      "language": "json"
    },
    {
      "code": "{\n   \"title\": \"CodeExecutionResult\",\n   \"type\": \"object\",\n   \"properties\": {\n      \"success\": {\n         \"title\": \"Success\",\n         \"type\": \"boolean\"\n      },\n      \"output\": {\n         \"title\": \"Output\",\n         \"type\": \"string\"\n      }\n   },\n   \"required\": [\n      \"success\",\n      \"output\"\n   ]\n}",
      "language": "json"
    },
    {
      "code": "pip install -U \"autogen-agentchat\" \"autogen-ext[openai]\" \"yfinance\" \"matplotlib\"",
      "language": "unknown"
    },
    {
      "code": "pip install -U \"autogen-agentchat\" \"autogen-ext[openai]\" \"yfinance\" \"matplotlib\"",
      "language": "unknown"
    },
    {
      "code": "import asyncio\nfrom autogen_agentchat.agents import AssistantAgent\nfrom autogen_agentchat.ui import Console\nfrom autogen_ext.models.openai import OpenAIChatCompletionClient\nfrom autogen_ext.code_executors.local import LocalCommandLineCodeExecutor\nfrom autogen_ext.tools.code_execution import PythonCodeExecutionTool\n\n\nasync def main() -> None:\n    tool = PythonCodeExecutionTool(LocalCommandLineCodeExecutor(work_dir=\"coding\"))\n    agent = AssistantAgent(\n        \"assistant\", OpenAIChatCompletionClient(model=\"gpt-4o\"), tools=[tool], reflect_on_tool_use=True\n    )\n    await Console(\n        agent.run_stream(\n            task=\"Create a plot of MSFT stock prices in 2024 and save it to a file. Use yfinance and matplotlib.\"\n        )\n    )\n\n\nasyncio.run(main())",
      "language": "python"
    },
    {
      "code": "import asyncio\nfrom autogen_agentchat.agents import AssistantAgent\nfrom autogen_agentchat.ui import Console\nfrom autogen_ext.models.openai import OpenAIChatCompletionClient\nfrom autogen_ext.code_executors.local import LocalCommandLineCodeExecutor\nfrom autogen_ext.tools.code_execution import PythonCodeExecutionTool\n\n\nasync def main() -> None:\n    tool = PythonCodeExecutionTool(LocalCommandLineCodeExecutor(work_dir=\"coding\"))\n    agent = AssistantAgent(\n        \"assistant\", OpenAIChatCompletionClient(model=\"gpt-4o\"), tools=[tool], reflect_on_tool_use=True\n    )\n    await Console(\n        agent.run_stream(\n            task=\"Create a plot of MSFT stock prices in 2024 and save it to a file. Use yfinance and matplotlib.\"\n        )\n    )\n\n\nasyncio.run(main())",
      "language": "python"
    }
  ],
  "patterns": [
    {
      "description": "API Reference autogen_ext.tools.code_execution autogen_ext.tools.code_execution# pydantic model CodeExecutionInput[source]# Bases: BaseModel Show JSON schema{ \"title\": \"CodeExecutionInput\", \"type\": \"object\", \"properties\": { \"code\": { \"description\": \"The contents of the Python code block that should be executed\", \"title\": \"Code\", \"type\": \"string\" } }, \"required\": [ \"code\" ] } Fields: code (str) field code: str [Required]# The contents of the Python code block that should be executed pydantic model CodeExecutionResult[source]# Bases: BaseModel Show JSON schema{ \"title\": \"CodeExecutionResult\", \"type\": \"object\", \"properties\": { \"success\": { \"title\": \"Success\", \"type\": \"boolean\" }, \"output\": { \"title\": \"Output\", \"type\": \"string\" } }, \"required\": [ \"success\", \"output\" ] } Fields: output (str) success (bool) field success: bool [Required]# field output: str [Required]# ser_model() → str[source]# class PythonCodeExecutionTool(executor: CodeExecutor)[source]# Bases: BaseTool[CodeExecutionInput, CodeExecutionResult], Component[PythonCodeExecutionToolConfig] A tool that executes Python code in a code executor and returns output. Example executors: autogen_ext.code_executors.local.LocalCommandLineCodeExecutor autogen_ext.code_executors.docker.DockerCommandLineCodeExecutor autogen_ext.code_executors.azure.ACADynamicSessionsCodeExecutor Example usage: pip install -U \"autogen-agentchat\" \"autogen-ext[openai]\" \"yfinance\" \"matplotlib\" import asyncio from autogen_agentchat.agents import AssistantAgent from autogen_agentchat.ui import Console from autogen_ext.models.openai import OpenAIChatCompletionClient from autogen_ext.code_executors.local import LocalCommandLineCodeExecutor from autogen_ext.tools.code_execution import PythonCodeExecutionTool async def main() -> None: tool = PythonCodeExecutionTool(LocalCommandLineCodeExecutor(work_dir=\"coding\")) agent = AssistantAgent( \"assistant\", OpenAIChatCompletionClient(model=\"gpt-4o\"), tools=[tool], reflect_on_tool_use=True ) await Console( agent.run_stream( task=\"Create a plot of MSFT stock prices in 2024 and save it to a file. Use yfinance and matplotlib.\" ) ) asyncio.run(main()) Parameters: executor (CodeExecutor) – The code executor that will be used to execute the code blocks. component_config_schema# alias of PythonCodeExecutionToolConfig component_provider_override: ClassVar[str | None] = 'autogen_ext.tools.code_execution.PythonCodeExecutionTool'# Override the provider string for the component. This should be used to prevent internal module names being a part of the module name. async run(args: CodeExecutionInput, cancellation_token: CancellationToken) → CodeExecutionResult[source]# previous autogen_ext.tools.azure next autogen_ext.tools.graphrag On this page CodeExecutionInput CodeExecutionInput.code CodeExecutionResult CodeExecutionResult.success CodeExecutionResult.output CodeExecutionResult.ser_model() PythonCodeExecutionTool PythonCodeExecutionTool.component_config_schema PythonCodeExecutionTool.component_provider_override PythonCodeExecutionTool.run() Edit on GitHub Show Source",
      "code": "BaseModel"
    },
    {
      "description": "API Reference autogen_ext.tools.code_execution autogen_ext.tools.code_execution# pydantic model CodeExecutionInput[source]# Bases: BaseModel Show JSON schema{ \"title\": \"CodeExecutionInput\", \"type\": \"object\", \"properties\": { \"code\": { \"description\": \"The contents of the Python code block that should be executed\", \"title\": \"Code\", \"type\": \"string\" } }, \"required\": [ \"code\" ] } Fields: code (str) field code: str [Required]# The contents of the Python code block that should be executed pydantic model CodeExecutionResult[source]# Bases: BaseModel Show JSON schema{ \"title\": \"CodeExecutionResult\", \"type\": \"object\", \"properties\": { \"success\": { \"title\": \"Success\", \"type\": \"boolean\" }, \"output\": { \"title\": \"Output\", \"type\": \"string\" } }, \"required\": [ \"success\", \"output\" ] } Fields: output (str) success (bool) field success: bool [Required]# field output: str [Required]# ser_model() → str[source]# class PythonCodeExecutionTool(executor: CodeExecutor)[source]# Bases: BaseTool[CodeExecutionInput, CodeExecutionResult], Component[PythonCodeExecutionToolConfig] A tool that executes Python code in a code executor and returns output. Example executors: autogen_ext.code_executors.local.LocalCommandLineCodeExecutor autogen_ext.code_executors.docker.DockerCommandLineCodeExecutor autogen_ext.code_executors.azure.ACADynamicSessionsCodeExecutor Example usage: pip install -U \"autogen-agentchat\" \"autogen-ext[openai]\" \"yfinance\" \"matplotlib\" import asyncio from autogen_agentchat.agents import AssistantAgent from autogen_agentchat.ui import Console from autogen_ext.models.openai import OpenAIChatCompletionClient from autogen_ext.code_executors.local import LocalCommandLineCodeExecutor from autogen_ext.tools.code_execution import PythonCodeExecutionTool async def main() -> None: tool = PythonCodeExecutionTool(LocalCommandLineCodeExecutor(work_dir=\"coding\")) agent = AssistantAgent( \"assistant\", OpenAIChatCompletionClient(model=\"gpt-4o\"), tools=[tool], reflect_on_tool_use=True ) await Console( agent.run_stream( task=\"Create a plot of MSFT stock prices in 2024 and save it to a file. Use yfinance and matplotlib.\" ) ) asyncio.run(main()) Parameters: executor (CodeExecutor) – The code executor that will be used to execute the code blocks. component_config_schema# alias of PythonCodeExecutionToolConfig component_provider_override: ClassVar[str | None] = 'autogen_ext.tools.code_execution.PythonCodeExecutionTool'# Override the provider string for the component. This should be used to prevent internal module names being a part of the module name. async run(args: CodeExecutionInput, cancellation_token: CancellationToken) → CodeExecutionResult[source]# previous autogen_ext.tools.azure next autogen_ext.tools.graphrag",
      "code": "BaseModel"
    },
    {
      "description": "Example usage:",
      "code": "pip install -U \"autogen-agentchat\" \"autogen-ext[openai]\" \"yfinance\" \"matplotlib\""
    }
  ],
  "links": [
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.tools.code_execution.html",
    "https://microsoft.github.io/autogen/stable/index.html",
    "https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/index.html",
    "https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/index.html",
    "https://microsoft.github.io/autogen/stable/user-guide/extensions-user-guide/index.html",
    "https://microsoft.github.io/autogen/stable/user-guide/autogenstudio-user-guide/index.html",
    "https://microsoft.github.io/autogen/stable/reference/index.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.agents.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.base.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.conditions.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.messages.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.state.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.teams.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.tools.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.ui.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.utils.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.code_executor.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.exceptions.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.logging.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.memory.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.model_context.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.models.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.tool_agent.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.tools.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_core.utils.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.cache_store.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.code_executors.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.experimental.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.memory.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.runtimes.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.teams.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.ui.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.agents.azure.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.agents.file_surfer.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.agents.magentic_one.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.agents.openai.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.agents.video_surfer.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.agents.web_surfer.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.auth.azure.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.cache_store.diskcache.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.cache_store.redis.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.code_executors.azure.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.code_executors.docker.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.code_executors.docker_jupyter.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.code_executors.jupyter.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.code_executors.local.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.experimental.task_centric_memory.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.memory.canvas.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.memory.chromadb.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.memory.mem0.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.memory.redis.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.anthropic.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.azure.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.cache.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.llama_cpp.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.ollama.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.openai.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.replay.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.semantic_kernel.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.runtimes.grpc.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.teams.magentic_one.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.tools.azure.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.tools.graphrag.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.tools.http.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.tools.langchain.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.tools.mcp.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.tools.semantic_kernel.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.agents.video_surfer.tools.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.agents.web_surfer.playwright_controller.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.experimental.task_centric_memory.utils.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.anthropic.config.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.azure.config.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.ollama.config.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.models.openai.config.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.runtimes.grpc.protos.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.runtimes.grpc.protos.agent_worker_pb2.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.runtimes.grpc.protos.agent_worker_pb2_grpc.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.runtimes.grpc.protos.cloudevent_pb2.html",
    "https://microsoft.github.io/autogen/stable/reference/python/autogen_ext.runtimes.grpc.protos.cloudevent_pb2_grpc.html"
  ]
}
{
  "title": "Agent Builder setup",
  "content": "Source: https://docs.langchain.com/langsmith/agent-builder-setup\n\nAdd required workspace secrets for models and tools used by Agent Builder.\n\nThis page lists the workspace secrets you need to add before using Agent Builder. Add these in your LangSmith workspace settings under Secrets. Keep values scoped to your workspace and avoid placing credentials in prompts or code.\n\n## How to add workspace secrets\n\nIn the [LangSmith UI](https://smith.langchain.com), ensure that you have an LLM API key set as a [workspace secret](/langsmith/administration-overview#workspace-secrets) (either Anthropic or OpenAI API key).\n\n1. Navigate to <Icon icon=\"gear\" /> **Settings** and then move to the **Secrets** tab.\n2. Select **Add secret** and enter either `OPENAI_API_KEY` or `ANTHROPIC_API_KEY` as the **name**, and your API key as the **value**.\n3. Select **Save secret**.\n\n<Note> When adding workspace secrets in the LangSmith UI, make sure the secret keys match the environment variable names expected by your model provider.</Note>\n\n## Required model key\n\nFor Agent Builder to make API calls to LLMs, you need to set an OpenAI or Anthropic API key as a workspace secret. The agent graphs load this key from workspace secrets for inference.\n\n<Note icon=\"wand-magic-sparkles\" iconType=\"regular\">\n  Agent Builder supports custom models per agent. See [Custom models](/langsmith/agent-builder-essentials#custom-models) for more information.\n</Note>\n\n## Agent Builder specific secrets\n\nSecrets prefixed with `AGENT_BUILDER_` are prioritized over workspace secrets within Agent Builder. This way, you can better track the usage of Agent Builder vs other parts of LangSmith which use the same secrets.\n\nIf you have both `OPENAI_API_KEY` and `AGENT_BUILDER_OPENAI_API_KEY`, the `AGENT_BUILDER_OPENAI_API_KEY` secret will be used.\n\n## Optional tool keys\n\nAdd keys for any tools you enable. These are read from workspace secrets at runtime.\n\n* `EXA_API_KEY`: Required for Exa search tools (general web and LinkedIn profile search).\n* `TAVILY_API_KEY`: Required for Tavily web search.\n* `TWITTER_API_KEY` and `TWITTER_API_KEY_SECRET`: Required for Twitter/X read operations (appâ€‘only bearer). Posting/media upload is not enabled.\n\n## MCP server configuration\n\nAgent Builder can pull tools from one or more remote [Model Context Protocol (MCP)](https://modelcontextprotocol.io/) servers. Configure MCP servers and headers in your [workspace](/langsmith/administration-overview#workspaces) settings. Agent Builder automatically discovers tools and applies the configured headers when calling them.\n\nFor more details on using the remote MCP servers, refer to the the [MCP Framework](/langsmith/agent-builder-mcp-framework#using-remote-mcp-servers) page.\n\n<Callout icon=\"pen-to-square\" iconType=\"regular\">\n  [Edit this page on GitHub](https://github.com/langchain-ai/docs/edit/main/src/langsmith/agent-builder-setup.mdx) or [file an issue](https://github.com/langchain-ai/docs/issues/new/choose).\n</Callout>\n\n<Tip icon=\"terminal\" iconType=\"regular\">\n  [Connect these docs](/use-these-docs) to Claude, VSCode, and more via MCP for real-time answers.\n</Tip>",
  "code_samples": [],
  "headings": [
    {
      "level": "h2",
      "text": "How to add workspace secrets",
      "id": "how-to-add-workspace-secrets"
    },
    {
      "level": "h2",
      "text": "Required model key",
      "id": "required-model-key"
    },
    {
      "level": "h2",
      "text": "Agent Builder specific secrets",
      "id": "agent-builder-specific-secrets"
    },
    {
      "level": "h2",
      "text": "Optional tool keys",
      "id": "optional-tool-keys"
    },
    {
      "level": "h2",
      "text": "MCP server configuration",
      "id": "mcp-server-configuration"
    }
  ],
  "url": "llms-txt#agent-builder-setup",
  "links": []
}
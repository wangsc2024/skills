{
  "title": "This will NOT be traced (if LANGSMITH_TRACING is not set)",
  "content": "agent.invoke({\"messages\": [{\"role\": \"user\", \"content\": \"Send another email\"}]})\nbash  theme={null}\n  export LANGSMITH_PROJECT=my-agent-project\n  python  theme={null}\n  import langsmith as ls\n\nwith ls.tracing_context(project_name=\"email-agent-test\", enabled=True):\n      response = agent.invoke({\n          \"messages\": [{\"role\": \"user\", \"content\": \"Send a welcome email\"}]\n      })\n  python  theme={null}\nresponse = agent.invoke(\n    {\"messages\": [{\"role\": \"user\", \"content\": \"Send a welcome email\"}]},\n    config={\n        \"tags\": [\"production\", \"email-assistant\", \"v1.0\"],\n        \"metadata\": {\n            \"user_id\": \"user_123\",\n            \"session_id\": \"session_456\",\n            \"environment\": \"production\"\n        }\n    }\n)\npython  theme={null}\nwith ls.tracing_context(\n    project_name=\"email-agent-test\",\n    enabled=True,\n    tags=[\"production\", \"email-assistant\", \"v1.0\"],\n    metadata={\"user_id\": \"user_123\", \"session_id\": \"session_456\", \"environment\": \"production\"}):\n    response = agent.invoke(\n        {\"messages\": [{\"role\": \"user\", \"content\": \"Send a welcome email\"}]}\n    )\npython Python theme={null}\nfrom langchain_core.tracers.langchain import LangChainTracer\nfrom langgraph.graph import StateGraph, MessagesState\nfrom langsmith import Client\nfrom langsmith.anonymizer import create_anonymizer\n\nanonymizer = create_anonymizer([\n    # Matches SSNs\n    { \"pattern\": r\"\\b\\d{3}-?\\d{2}-?\\d{4}\\b\", \"replace\": \"<ssn>\" }\n])\n\ntracer_client = Client(anonymizer=anonymizer)\ntracer = LangChainTracer(client=tracer_client)",
  "code_samples": [
    {
      "code": "## Log to a project\n\n<Accordion title=\"Statically\">\n  You can set a custom project name for your entire application by setting the `LANGSMITH_PROJECT` environment variable:",
      "language": "unknown"
    },
    {
      "code": "</Accordion>\n\n<Accordion title=\"Dynamically\">\n  You can set the project name programmatically for specific operations:",
      "language": "unknown"
    },
    {
      "code": "</Accordion>\n\n## Add metadata to traces\n\nYou can annotate your traces with custom metadata and tags:",
      "language": "unknown"
    },
    {
      "code": "`tracing_context` also accepts tags and metadata for fine-grained control:",
      "language": "unknown"
    },
    {
      "code": "This custom metadata and tags will be attached to the trace in LangSmith.\n\n<Tip>\n  To learn more about how to use traces to debug, evaluate, and monitor your agents, see the [LangSmith documentation](/langsmith/home).\n</Tip>\n\n## Use anonymizers to prevent logging of sensitive data in traces\n\nYou may want to mask sensitive data to prevent it from being logged to LangSmith. You can create [anonymizers](/langsmith/mask-inputs-outputs#rule-based-masking-of-inputs-and-outputs) and apply them to\nyour graph using configuration. This example will redact anything matching the Social Security Number format XXX-XX-XXXX from traces sent to LangSmith.",
      "language": "unknown"
    }
  ],
  "headings": [
    {
      "level": "h2",
      "text": "Log to a project",
      "id": "log-to-a-project"
    },
    {
      "level": "h2",
      "text": "Add metadata to traces",
      "id": "add-metadata-to-traces"
    },
    {
      "level": "h2",
      "text": "Use anonymizers to prevent logging of sensitive data in traces",
      "id": "use-anonymizers-to-prevent-logging-of-sensitive-data-in-traces"
    }
  ],
  "url": "llms-txt#this-will-not-be-traced-(if-langsmith_tracing-is-not-set)",
  "links": []
}
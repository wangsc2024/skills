{
  "title": "Agent Server changelog",
  "content": "Source: https://docs.langchain.com/langsmith/agent-server-changelog\n\n<Callout icon=\"rss\" color=\"#DFC5FE\" iconType=\"regular\">\n  **Subscribe**: Our changelog includes an [RSS feed](https://docs.langchain.com/langsmith/agent-server-changelog/rss.xml) that can integrate with [Slack](https://slack.com/help/articles/218688467-Add-RSS-feeds-to-Slack), [email](https://zapier.com/apps/email/integrations/rss/1441/send-new-rss-feed-entries-via-email), Discord bots like [Readybot](https://readybot.io/) or [RSS Feeds to Discord Bot](https://rss.app/en/bots/rssfeeds-discord-bot), and other subscription tools.\n</Callout>\n\n[Agent Server](/langsmith/agent-server) is an API platform for creating and managing agent-based applications. It provides built-in persistence, a task queue, and supports deploying, configuring, and running assistants (agentic workflows) at scale. This changelog documents all notable updates, features, and fixes to Agent Server releases.\n\n<Update label=\"2025-12-18\" tags={[\"agent-server\"]}>\n  ## v0.6.9\n\n* Enforced stable JSON keys for custom encryption, removed model-type-specific custom JSON functions, and improved error handling for double-encryption scenarios.\n</Update>\n\n<Update label=\"2025-12-18\" tags={[\"agent-server\"]}>\n  ## v0.6.8\n\n* Added profiling feature to enhance performance analysis and monitoring.\n</Update>\n\n<Update label=\"2025-12-18\" tags={[\"agent-server\"]}>\n  ## v0.6.7\n\n* Logged server startup time for improved monitoring and diagnostics.\n</Update>\n\n<Update label=\"2025-12-17\" tags={[\"agent-server\"]}>\n  ## v0.6.5\n\n* Added a warning log that triggers during import time for improved visibility.\n</Update>\n\n<Update label=\"2025-12-16\" tags={[\"agent-server\"]}>\n  ## v0.6.4\n\n* Enhanced custom encryption by parallelizing metadata and config processes, added encryption for thread.config and some checkpoints, improved tests and schema consistency.\n  * Ensured the Go server starts as `core-api` in the queue entrypoint for consistent runtime behavior.\n</Update>\n\n<Update label=\"2025-12-15\" tags={[\"agent-server\"]}>\n  ## v0.6.2\n\n* Resolved an issue that caused duplicate calls to middleware when `mount_prefix` was specified.\n</Update>\n\n<Update label=\"2025-12-15\" tags={[\"agent-server\"]}>\n  ## v0.6.0\n\nThis minor version updates the streaming APIs `/join-stream` and `/stream` behavior with respect to the `last-event-id` parameter to align with the SSE spec. Previously, passing a last-event-id would return that message in addition to any following messages. Going forward, these APIs will only return new messages following the provided last-event-id. For example, with the following stream, previously passing a last-event-id of `2` would return the messages with ids `2` and `3`, but will now only return the message with id `3`:\n\nThis bump also includes some fixes, including a bug exposing unintended internal events in run streams.\n</Update>\n\n<Update label=\"2025-12-12\" tags={[\"agent-server\"]}>\n  ## v0.5.42\n\n* Modified the Go server to rely solely on the CLI `-service` flag for determining service mode, ignoring the globally set `FF_USE_CORE_API` for better deployment specificity.\n</Update>\n\n<Update label=\"2025-12-11\" tags={[\"agent-server\"]}>\n  ## v0.5.41\n\nFixed an issue with cron jobs in hybrid mode by ensuring proper initialization of the ENTERPRISE\\_SAAS global flag.\n</Update>\n\n<Update label=\"2025-12-10\" tags={[\"agent-server\"]}>\n  ## v0.5.39\n\n* Completed the implementation of custom encryptions for runs and crons, along with simplifying encryption processes.\n  * Introduced support for streaming subgraph events in both `values` and `updates` stream modes.\n</Update>\n\n<Update label=\"2025-12-10\" tags={[\"agent-server\"]}>\n  ## v0.5.38\n\n* Implemented complete custom encryption for threads, ensuring all thread data is properly secured and encrypted.\n  * Ensured Redis attempt flags are consistently expired to prevent stale data.\n  * Added core authentication and support for OR/AND filters, enhancing security and flexibility.\n</Update>\n\n<Update label=\"2025-12-09\" tags={[\"agent-server\"]}>\n  ## v0.5.37\n\nAdded a `name` parameter to the assistants count API for improved search flexibility.\n</Update>\n\n<Update label=\"2025-12-09\" tags={[\"agent-server\"]}>\n  ## v0.5.36\n\n* Introduced configurable webhook support, allowing users to customize submitted webhooks and headers.\n  * Added an `/ok` endpoint at the root for easier health checks and simplified configuration.\n</Update>\n\n<Update label=\"2025-12-08\" tags={[\"agent-server\"]}>\n  ## v0.5.34\n\nIntroduced custom encryption middleware, allowing users to define their own encryption methods for enhanced data protection.\n</Update>\n\n<Update label=\"2025-12-08\" tags={[\"agent-server\"]}>\n  ## v0.5.33\n\nSet Uvicorn's keep-alive timeout to 75 seconds to prevent occasional 502 errors and improve connection handling.\n</Update>\n\n<Update label=\"2025-12-06\" tags={[\"agent-server\"]}>\n  ## v0.5.32\n\nIntroduced OpenTelemetry telemetry agent with support for New Relic integration.\n</Update>\n\n<Update label=\"2025-12-05\" tags={[\"agent-server\"]}>\n  ## v0.5.31\n\nAdded Py-Spy profiling for improved analysis of deployment performance, with some limitations on coverage.\n</Update>\n\n<Update label=\"2025-12-05\" tags={[\"agent-server\"]}>\n  ## v0.5.30\n\n* Always configure loopback transport clients to enhance reliability.\n  * Ensured authentication headers are passed for remote non-stream methods in JS.\n</Update>\n\n<Update label=\"2025-12-04\" tags={[\"agent-server\"]}>\n  ## v0.5.28\n\n* Introduced a faster, Rust-based implementation of uuid7 to improve performance, now used in langsmith and langchain-core.\n  * Added support for `$or` and `$and` in PostgreSQL auth filters to enable complex logic in authentication checks.\n  * Capped psycopg and psycopg-pool versions to prevent infinite waiting on startup.\n</Update>\n\n<Update label=\"2025-11-26\" tags={[\"agent-server\"]}>\n  ## v0.5.27\n\n* Ensured `runs.list` with filters returns only run fields, preventing incorrect status data from being included.\n  * (JS) Updated `uuid` from version 10.0.0 to 13.0.0. and `exit-hook` from version 4.0.0 to 5.0.1.\n</Update>\n\n<Update label=\"2025-11-24\" tags={[\"agent-server\"]}>\n  ## v0.5.26\n\nResolved issues with `store.put` when used without AsyncBatchedStore in the JavaScript environment.\n</Update>\n\n<Update label=\"2025-11-22\" tags={[\"agent-server\"]}>\n  ## v0.5.25\n\n* Introduced the ability to search assistants by their `name` using a new endpoint.\n  * Casted store\\_get return types to tuple in JavaScript to ensure type consistency.\n</Update>\n\n<Update label=\"2025-11-21\" tags={[\"agent-server\"]}>\n  ## v0.5.24\n\n* Added executor metrics for Datadog and enhanced core stream API metrics for better performance tracking.\n  * Disabled Redis Go maintenance notifications to prevent startup errors with unsupported commands in Redis versions below 8.\n</Update>\n\n<Update label=\"2025-11-20\" tags={[\"agent-server\"]}>\n  ## v0.5.20\n\nResolved an error in the executor service that occurred when handling large messages.\n</Update>\n\n<Update label=\"2025-11-19\" tags={[\"agent-server\"]}>\n  ## v0.5.19\n\nUpgraded built-in langchain-core to version 1.0.7 to address a prompt formatting vulnerability.\n</Update>\n\n<Update label=\"2025-11-19\" tags={[\"agent-server\"]}>\n  ## v0.5.18\n\nIntroduced persistent cron threads with `on_run_completed: {keep,delete}` for enhanced cron management and retrieval options.\n</Update>\n\n<Update label=\"2025-11-19\" tags={[\"agent-server\"]}>\n  ## v0.5.17\n\nEnhanced task handling to support multiple interrupts, aligning with open-source functionality.\n</Update>\n\n<Update label=\"2025-11-18\" tags={[\"agent-server\"]}>\n  ## v0.5.15\n\nAdded custom JSON unmarshalling for `Resume` and `Goto` commands to fix map-style null resume interpretation issues.\n</Update>\n\n<Update label=\"2025-11-14\" tags={[\"agent-server\"]}>\n  ## v0.5.14\n\nEnsured `pg make start` command functions correctly with core-api enabled.\n</Update>\n\n<Update label=\"2025-11-13\" tags={[\"agent-server\"]}>\n  ## v0.5.13\n\nSupport `include` and `exclude` (plural form key for `includes` and `excludes`) since a doc incorrectly claimed support for that. Now the server accepts either.\n</Update>\n\n<Update label=\"2025-11-10\" tags={[\"agent-server\"]}>\n  ## v0.5.11\n\n* Ensured auth handlers are applied consistently when streaming threads, aligning with recent security practices.\n  * Bumped `undici` dependency from version 6.21.3 to 7.16.0, introducing various performance improvements and bug fixes.\n  * Updated `p-queue` from version 8.0.1 to 9.0.0, introducing new features and breaking changes, including the removal of the `throwOnTimeout` option.\n</Update>\n\n<Update label=\"2025-11-10\" tags={[\"agent-server\"]}>\n  ## v0.5.10\n\nImplemented healthcheck calls in the queue /ok handler to improve Kubernetes liveness and readiness probe compatibility.\n</Update>\n\n<Update label=\"2025-11-09\" tags={[\"agent-server\"]}>\n  ## v0.5.9\n\n* Resolved an issue causing an \"unbound local error\" for the `elapsed` variable during a SIGINT interruption.\n  * Mapped the \"interrupted\" status to A2A's \"input-required\" status for better task status alignment.\n</Update>\n\n<Update label=\"2025-11-07\" tags={[\"agent-server\"]}>\n  ## v0.5.8\n\n* Ensured environment variables are passed as a dictionary when starting langgraph-ui for compatibility with `uvloop`.\n  * Implemented CRUD operations for runs in Go, simplifying JSON merges and improving transaction readability, with PostgreSQL as a reference.\n</Update>\n\n<Update label=\"2025-11-07\" tags={[\"agent-server\"]}>\n  ## v0.5.7\n\nReplaced no-retry Redis client with a retry client to handle connection errors more effectively and reduced corresponding logging severity.\n</Update>\n\n<Update label=\"2025-11-06\" tags={[\"agent-server\"]}>\n  ## v0.5.6\n\n* Added pending time metrics to provide better insights into task waiting times.\n  * Replaced `pb.Value` with `ChannelValue` to streamline code structure.\n</Update>\n\n<Update label=\"2025-11-05\" tags={[\"agent-server\"]}>\n  ## v0.5.5\n\nMade the Redis `health_check_interval` more frequent and configurable for better handling of idle connections.\n</Update>\n\n<Update label=\"2025-11-05\" tags={[\"agent-server\"]}>\n  ## v0.5.4\n\nImplemented `ormsgpack` with `OPT_REPLACE_SURROGATES` and updated for compatibility with the latest FastAPI release affecting custom authentication dependencies.\n</Update>\n\n<Update label=\"2025-11-03\" tags={[\"agent-server\"]}>\n  ## v0.5.2\n\nAdded retry logic for PostgreSQL connections during startup to enhance deployment reliability and improved error logging for easier debugging.\n</Update>\n\n<Update label=\"2025-11-03\" tags={[\"agent-server\"]}>\n  ## v0.5.1\n\n* Resolved an issue where persistence was not functioning correctly with LangChain.js's createAgent feature.\n  * Optimized assistants CRUD performance by improving database connection pooling and gRPC client reuse, reducing latency for large payloads.\n</Update>\n\n<Update label=\"2025-10-31\" tags={[\"agent-server\"]}>\n  ## v0.5.0\n\nThis minor version now requires langgraph-checkpoint versions later than 3.0 to prevent a deserialization vulnerability in earlier versions of the langgraph-checkpoint library.\n  The `langgraph-checkpoint` library is compatible with `langgraph` minor versions 0.4, 0.5, 0.6, and 1.0.\n\nThis version removes default support for deserialization of payloads saved using the \"json\" type, which has never been the default.\n  By default, objects are serialized using msgpack. Under certain uncommon situations, payloads were serialized using an older \"json\" mode. If those payloads contained custom python objects, those will no longer be deserializable unless you provide a `serde` config:\n\n<Update label=\"2025-10-29\" tags={[\"agent-server\"]}>\n  ## v0.4.47\n\n* Validated and auto-corrected environment configuration types using TypeAdapter.\n  * Added support for LangChain.js and LangGraph.js version 1.x, ensuring compatibility.\n  * Updated hono library from version 4.9.7 to 4.10.3, addressing a CORS middleware security issue and enhancing JWT audience validation.\n  * Introduced a modular benchmark framework, adding support for assistants and streams, with improvements to the existing ramp benchmark methodology.\n  * Introduced a gRPC API for core threads CRUD operations, with updated Python and TypeScript clients.\n  * Updated `hono` package from version 4.9.7 to 4.10.2, including security improvements for JWT audience validation.\n  * Updated `hono` dependency from version 4.9.7 to 4.10.3 to fix a security issue and improve CORS middleware handling.\n  * Introduced basic CRUD operations for threads, including create, get, patch, delete, search, count, and copy, with support for Go, gRPC server, and Python and TypeScript clients.\n</Update>\n\n<Update label=\"2025-10-21\" tags={[\"agent-server\"]}>\n  ## v0.4.46\n\nAdded an option to enable message streaming from subgraph events, giving users more control over event notifications.\n</Update>\n\n<Update label=\"2025-10-21\" tags={[\"agent-server\"]}>\n  ## v0.4.45\n\n* Implemented support for authorization on custom routes, controlled by the `enable_custom_route_auth` flag.\n  * Set default tracing to off for improved performance and simplified debugging.\n</Update>\n\n<Update label=\"2025-10-18\" tags={[\"agent-server\"]}>\n  ## v0.4.44\n\nUsed Redis key prefix for license-related keys to prevent conflicts with existing setups.\n</Update>\n\n<Update label=\"2025-10-16\" tags={[\"agent-server\"]}>\n  ## v0.4.43\n\nImplemented a health check for Redis connections to prevent them from idling out.\n</Update>\n\n<Update label=\"2025-10-15\" tags={[\"agent-server\"]}>\n  ## v0.4.40\n\n* Prevented duplicate messages in resumable run and thread streams by addressing a race condition and adding tests to ensure consistent behavior.\n  * Ensured that runs don't start until the pubsub subscription is confirmed to prevent message drops on startup.\n  * Renamed platform from langgraph to improve clarity and branding.\n  * Reset PostgreSQL connections after use to prevent lock holding and improved error reporting for transaction issues.\n</Update>\n\n<Update label=\"2025-10-10\" tags={[\"agent-server\"]}>\n  ## v0.4.39\n\n* Upgraded `hono` from version 4.7.6 to 4.9.7, addressing a security issue related to the `bodyLimit` middleware.\n  * Allowed customization of the base authentication URL to enhance flexibility.\n  * Pinned the 'ty' dependency to a stable version using 'uv' to prevent unexpected linting failures.\n</Update>\n\n<Update label=\"2025-10-08\" tags={[\"agent-server\"]}>\n  ## v0.4.38\n\n* Replaced `LANGSMITH_API_KEY` with `LANGSMITH_CONTROL_PLANE_API_KEY` to support hybrid deployments requiring license verification.\n  * Introduced self-hosted log ingestion support, configurable via `SELF_HOSTED_LOGS_ENABLED` and `SELF_HOSTED_LOGS_ENDPOINT` environment variables.\n</Update>\n\n<Update label=\"2025-10-06\" tags={[\"agent-server\"]}>\n  ## v0.4.37\n\nRequired create permissions for copying threads to ensure proper authorization.\n</Update>\n\n<Update label=\"2025-10-03\" tags={[\"agent-server\"]}>\n  ## v0.4.36\n\n* Improved error handling and added a delay to the sweep loop for smoother operation during Redis downtime or cancellation errors.\n  * Updated the queue entrypoint to start the core-api gRPC server when `FF_USE_CORE_API` is enabled.\n  * Introduced checks for invalid configurations in assistant endpoints to ensure consistency with other endpoints.\n</Update>\n\n<Update label=\"2025-10-02\" tags={[\"agent-server\"]}>\n  ## v0.4.35\n\n* Resolved a timezone issue in the core API, ensuring accurate time data retrieval.\n  * Introduced a new `middleware_order` setting to apply authentication middleware before custom middleware, allowing finer control over protected route configurations.\n  * Logged the Redis URL when errors occur during Redis client creation.\n  * Improved Go engine/runtime context propagation to ensure consistent execution flow.\n  * Removed the unnecessary `assistants.put` call from the executor entrypoint to streamline the process.\n</Update>\n\n<Update label=\"2025-10-01\" tags={[\"agent-server\"]}>\n  ## v0.4.34\n\nBlocked unauthorized users from updating thread TTL settings to enhance security.\n</Update>\n\n<Update label=\"2025-10-01\" tags={[\"agent-server\"]}>\n  ## v0.4.33\n\n* Improved error handling for Redis locks by logging `LockNotOwnedError` and extending initial pool migration lock timeout to 60 seconds.\n  * Updated the BaseMessage schema to align with the latest langchain-core version and synchronized build dependencies for consistent local development.\n</Update>\n\n<Update label=\"2025-09-30\" tags={[\"agent-server\"]}>\n  ## v0.4.32\n\n* Added a GO persistence layer to the API image, enabling GRPC server operation with PostgreSQL support and enhancing configurability.\n  * Set the status to error when a timeout occurs to improve error handling.\n</Update>\n\n<Update label=\"2025-09-30\" tags={[\"agent-server\"]}>\n  ## v0.4.30\n\n* Added support for context when using `stream_mode=\"events\"` and included new tests for this functionality.\n  * Added support for overriding the server port using `$LANGGRAPH_SERVER_PORT` and removed an unnecessary Dockerfile `ARG` for cleaner configuration.\n  * Applied authorization filters to all table references in thread delete CTE to enhance security.\n  * Introduced self-hosted metrics ingestion capability, allowing metrics to be sent to an OTLP collector every minute when the corresponding environment variables are set.\n  * Ensured that the `set_latest` function properly updates the name and description of the version.\n</Update>\n\n<Update label=\"2025-09-26\" tags={[\"agent-server\"]}>\n  ## v0.4.29\n\nEnsured proper cleanup of redis pubsub connections in all scenarios.\n</Update>\n\n<Update label=\"2025-09-25\" tags={[\"agent-server\"]}>\n  ## v0.4.28\n\n* Added a format parameter to the queue metrics server for enhanced customization.\n  * Corrected `MOUNT_PREFIX` environment variable usage in CLI for consistency with documentation and to prevent confusion.\n  * Added a feature to log warnings when messages are dropped due to no subscribers, controllable via a feature flag.\n  * Added support for Bookworm and Bullseye distributions in Node images.\n  * Consolidated executor definitions by moving them from the `langgraph-go` repository, improving manageability and updating the checkpointer setup method for server migrations.\n  * Ensured correct response headers are sent for a2a, improving compatibility and communication.\n  * Consolidated PostgreSQL checkpoint implementation, added CI testing for the `/core` directory, fixed RemoteStore test errors, and enhanced the Store implementation with transactions.\n  * Added PostgreSQL migrations to the queue server to prevent errors from graphs being added before migrations are performed.\n</Update>\n\n<Update label=\"2025-09-23\" tags={[\"agent-server\"]}>\n  ## v0.4.27\n\nReplaced `coredis` with `redis-py` to improve connection handling and reliability under high traffic loads.\n</Update>\n\n<Update label=\"2025-09-22\" tags={[\"agent-server\"]}>\n  ## v0.4.24\n\n* Added functionality to return full message history for A2A calls in accordance with the A2A spec.\n  * Added a `LANGGRAPH_SERVER_HOST` environment variable to Dockerfiles to support custom host settings for dual stack mode.\n</Update>\n\n<Update label=\"2025-09-22\" tags={[\"agent-server\"]}>\n  ## v0.4.23\n\nUse a faster message codec for redis streaming.\n</Update>\n\n<Update label=\"2025-09-19\" tags={[\"agent-server\"]}>\n  ## v0.4.22\n\nPorted long-stream handling to the run stream, join, and cancel endpoints for improved stream management.\n</Update>\n\n<Update label=\"2025-09-18\" tags={[\"agent-server\"]}>\n  ## v0.4.21\n\n* Added A2A streaming functionality and enhanced testing with the A2A SDK.\n  * Added Prometheus metrics to track language usage in graphs, middleware, and authentication for improved insights.\n  * Fixed bugs in Open Source Software related to message conversion for chunks.\n  * Removed await from pubsub subscribes to reduce flakiness in cluster tests and added retries in the shutdown suite to enhance API stability.\n</Update>\n\n<Update label=\"2025-09-11\" tags={[\"agent-server\"]}>\n  ## v0.4.20\n\nOptimized Pubsub initialization to prevent overhead and address subscription timing issues, ensuring smoother run execution.\n</Update>\n\n<Update label=\"2025-09-11\" tags={[\"agent-server\"]}>\n  ## v0.4.19\n\nRemoved warnings from psycopg by addressing function checks introduced in version 3.2.10.\n</Update>\n\n<Update label=\"2025-09-11\" tags={[\"agent-server\"]}>\n  ## v0.4.17\n\nFiltered out logs with mount prefix to reduce noise in logging output.\n</Update>\n\n<Update label=\"2025-09-10\" tags={[\"agent-server\"]}>\n  ## v0.4.16\n\n* Added support for implicit thread creation in a2a to streamline operations.\n  * Improved error serialization and emission in distributed runtime streams, enabling more comprehensive testing.\n</Update>\n\n<Update label=\"2025-09-09\" tags={[\"agent-server\"]}>\n  ## v0.4.13\n\n* Monitored queue status in the health endpoint to ensure correct behavior when PostgreSQL fails to initialize.\n  * Addressed an issue with unequal swept ID lengths to improve log clarity.\n  * Enhanced streaming outputs by avoiding re-serialization of DR payloads, using msgpack byte inspection for json-like parsing.\n</Update>\n\n<Update label=\"2025-09-04\" tags={[\"agent-server\"]}>\n  ## v0.4.12\n\n* Ensured metrics are returned even when experiencing database connection issues.\n  * Optimized update streams to prevent unnecessary data transmission.\n  * Upgraded `hono` from version 4.9.2 to 4.9.6 in the `storage_postgres/langgraph-api-server` for improved URL path parsing security.\n  * Added retries and an in-memory cache for LangSmith access calls to improve resilience against single failures.\n</Update>\n\n<Update label=\"2025-09-04\" tags={[\"agent-server\"]}>\n  ## v0.4.11\n\nAdded support for TTL (time-to-live) in thread updates.\n</Update>\n\n<Update label=\"2025-09-04\" tags={[\"agent-server\"]}>\n  ## v0.4.10\n\nIn distributed runtime, update serde logic for final checkpoint -> thread setting.\n</Update>\n\n<Update label=\"2025-09-02\" tags={[\"agent-server\"]}>\n  ## v0.4.9\n\n* Added support for filtering search results by IDs in the search endpoint for more precise queries.\n  * Included configurable headers for assistant endpoints to enhance request customization.\n  * Implemented a simple A2A endpoint with support for agent card retrieval, task creation, and task management.\n</Update>\n\n<Update label=\"2025-08-30\" tags={[\"agent-server\"]}>\n  ## v0.4.7\n\nStopped the inclusion of x-api-key to enhance security.\n</Update>\n\n<Update label=\"2025-08-29\" tags={[\"agent-server\"]}>\n  ## v0.4.6\n\nFixed a race condition when joining streams, preventing duplicate start events.\n</Update>\n\n<Update label=\"2025-08-29\" tags={[\"agent-server\"]}>\n  ## v0.4.5\n\n* Ensured the checkpointer starts and stops correctly before and after the queue to improve shutdown and startup efficiency.\n  * Resolved an issue where workers were being prematurely cancelled when the queue was cancelled.\n  * Prevented queue termination by adding a fallback for cases when Redis fails to wake a worker.\n</Update>\n\n<Update label=\"2025-08-28\" tags={[\"agent-server\"]}>\n  ## v0.4.4\n\n* Set the custom auth thread\\_id to None for stateless runs to prevent conflicts.\n  * Improved Redis signaling in the Go runtime by adding a wakeup worker and Redis lock implementation, and updated sweep logic.\n</Update>\n\n<Update label=\"2025-08-27\" tags={[\"agent-server\"]}>\n  ## v0.4.3\n\n* Added stream mode to thread stream for improved data processing.\n  * Added a durability parameter to runs for improved data persistence.\n</Update>\n\n<Update label=\"2025-08-27\" tags={[\"agent-server\"]}>\n  ## v0.4.2\n\nEnsured pubsub is initialized before creating a run to prevent errors from missing messages.\n</Update>\n\n<Update label=\"2025-08-25\" tags={[\"agent-server\"]}>\n  ## v0.4.0\n\nMinor version 0.4 comes with a number of improvements as well as some breaking changes.\n\n* Emitted attempt messages correctly within the thread stream.\n  * Reduced cluster conflicts by using only the thread ID for hashing in cluster mapping, prioritizing efficiency with stream\\_thread\\_cache.\n  * Introduced a stream endpoint for threads to track all outputs across sequentially executed runs.\n  * Made the filter query builder in PostgreSQL more robust against malformed expressions and improved validation to prevent potential security risks.\n\nThis minor version also includes a couple of breaking changes to improve the usability and security of the service:\n\n* In this minor version, we stop the practice of automatically including headers as configurable values in your runs. You can opt-in to specific patterns by setting **configurable\\_headers** in your agent server config.\n  * Run stream event IDs (for resumable streams) are now in the format of `ms-seq` instead of the previous format. We retain backwards compatibility for the old format, but we recommend using the new format for new code.\n</Update>\n\n<Update label=\"2025-08-25\" tags={[\"agent-server\"]}>\n  ## v0.3.4\n\n* Added custom Prometheus metrics for Redis/PG connection pools and switched the queue server to Uvicorn/Starlette for improved monitoring.\n  * Restored Wolfi image build by correcting shell command formatting and added a Makefile target for testing with nginx.\n</Update>\n\n<Update label=\"2025-08-22\" tags={[\"agent-server\"]}>\n  ## v0.3.3\n\n* Added timeouts to specific Redis calls to prevent workers from being left active.\n  * Updated the Golang runtime and added pytest skips for unsupported functionalities, including initial support for passing store to node and message streaming.\n  * Introduced a reverse proxy setup for serving combined Python and Node.js graphs, with nginx handling server routing, to facilitate a Postgres/Redis backend for the Node.js API server.\n</Update>\n\n<Update label=\"2025-08-21\" tags={[\"agent-server\"]}>\n  ## v0.3.1\n\nAdded a statement timeout to the pool to prevent long-running queries.\n</Update>\n\n<Update label=\"2025-08-21\" tags={[\"agent-server\"]}>\n  ## v0.3.0\n\n* Set a default 15-minute statement timeout and implemented monitoring for long-running queries to ensure system efficiency.\n  * Stop propagating run configurable values to the thread configuration, because this can cause issues on subsequent runs if you are specifying a checkpoint\\_id. This is a **slight breaking change** in behavior, since the thread value will no longer automatically reflect the unioned configuration of the most recent run. We believe this behavior is more intuitive, however.\n  * Enhanced compatibility with older worker versions by handling event data in channel names within ops.py.\n</Update>\n\n<Update label=\"2025-08-20\" tags={[\"agent-server\"]}>\n  ## v0.2.137\n\nFixed an unbound local error and improved logging for thread interruptions or errors, along with type updates.\n</Update>\n\n<Update label=\"2025-08-20\" tags={[\"agent-server\"]}>\n  ## v0.2.136\n\n* Added enhanced logging to aid in debugging metaview issues.\n  * Upgraded executor and runtime to the latest version for improved performance and stability.\n</Update>\n\n<Update label=\"2025-08-19\" tags={[\"agent-server\"]}>\n  ## v0.2.135\n\nEnsured async coroutines are properly awaited to prevent potential runtime errors.\n</Update>\n\n<Update label=\"2025-08-18\" tags={[\"agent-server\"]}>\n  ## v0.2.134\n\nEnhanced search functionality to improve performance by allowing users to select specific columns for query results.\n</Update>\n\n<Update label=\"2025-08-18\" tags={[\"agent-server\"]}>\n  ## v0.2.133\n\n* Added count endpoints for crons, threads, and assistants to enhance data tracking (#1132).\n  * Improved SSH functionality for better reliability and stability.\n  * Updated @langchain/langgraph-api to version 0.0.59 to fix an invalid state schema issue.\n</Update>\n\n<Update label=\"2025-08-15\" tags={[\"agent-server\"]}>\n  ## v0.2.132\n\n* Added Go language images to enhance project compatibility and functionality.\n  * Printed internal PIDs for JS workers to facilitate process inspection via SIGUSR1 signal.\n  * Resolved a `run_pkey` error that occurred when attempting to insert duplicate runs.\n  * Added `ty run` command and switched to using uuid7 for generating run IDs.\n  * Implemented the initial Golang runtime to expand language support.\n</Update>\n\n<Update label=\"2025-08-14\" tags={[\"agent-server\"]}>\n  ## v0.2.131\n\nAdded support for `object agent spec` with descriptions in JS.\n</Update>\n\n<Update label=\"2025-08-13\" tags={[\"agent-server\"]}>\n  ## v0.2.130\n\n* Added a feature flag (FF\\_RICH\\_THREADS=false) to disable thread updates on run creation, reducing lock contention and simplifying thread status handling.\n  * Utilized existing connections for `aput` and `apwrite` operations to improve performance.\n  * Improved error handling for decoding issues to enhance data processing reliability.\n  * Excluded headers from logs to improve security while maintaining runtime functionality.\n  * Fixed an error that prevented mapping slots to a single node.\n  * Added debug logs to track node execution in JS deployments for improved issue diagnosis.\n  * Changed the default multitask strategy to enqueue, improving throughput by eliminating the need to fetch inflight runs during new run insertions.\n  * Optimized database operations for `Runs.next` and `Runs.sweep` to reduce redundant queries and improve efficiency.\n  * Improved run creation speed by skipping unnecessary inflight runs queries.\n</Update>\n\n<Update label=\"2025-08-11\" tags={[\"agent-server\"]}>\n  ## v0.2.129\n\n* Stopped passing internal LGP fields to context to prevent breaking type checks.\n  * Exposed content-location headers to ensure correct resumability behavior in the API.\n</Update>\n\n<Update label=\"2025-08-08\" tags={[\"agent-server\"]}>\n  ## v0.2.128\n\nEnsured synchronized updates between `configurable` and `context` in assistants, preventing setup errors and supporting smoother version transitions.\n</Update>\n\n<Update label=\"2025-08-08\" tags={[\"agent-server\"]}>\n  ## v0.2.127\n\nExcluded unrequested stream modes from the resumable stream to optimize functionality.\n</Update>\n\n<Update label=\"2025-08-08\" tags={[\"agent-server\"]}>\n  ## v0.2.126\n\n* Made access logger headers configurable to enhance logging flexibility.\n  * Debounced the Runs.stats function to reduce the frequency of expensive calls and improve performance.\n  * Introduced debouncing for sweepers to enhance performance and efficiency (#1147).\n  * Acquired a lock for TTL sweeping to prevent database spamming during scale-out operations.\n</Update>\n\n<Update label=\"2025-08-06\" tags={[\"agent-server\"]}>\n  ## v0.2.125\n\nUpdated tracing context replicas to use the new format, ensuring compatibility.\n</Update>\n\n<Update label=\"2025-08-06\" tags={[\"agent-server\"]}>\n  ## v0.2.123\n\nAdded an entrypoint to the queue replica for improved deployment management.\n</Update>\n\n<Update label=\"2025-08-06\" tags={[\"agent-server\"]}>\n  ## v0.2.122\n\nUtilized persisted interrupt status in `join` to ensure correct handling of user's interrupt state after completion.\n</Update>\n\n<Update label=\"2025-08-06\" tags={[\"agent-server\"]}>\n  ## v0.2.121\n\n* Consolidated events to a single channel to prevent race conditions and optimize startup performance.\n  * Ensured custom lifespans are invoked on queue workers for proper setup, and added tests.\n</Update>\n\n<Update label=\"2025-08-04\" tags={[\"agent-server\"]}>\n  ## v0.2.120\n\n* Restored the original streaming behavior of runs, ensuring consistent inclusion of interrupt events based on `stream_mode` settings.\n  * Optimized `Runs.next` query to reduce average execution time from \\~14.43ms to \\~2.42ms, improving performance.\n  * Added support for stream mode \"tasks\" and \"checkpoints\", normalized the UI namespace, and upgraded `@langchain/langgraph-api` for enhanced functionality.\n</Update>\n\n<Update label=\"2025-07-31\" tags={[\"agent-server\"]}>\n  ## v0.2.117\n\nAdded a composite index on threads for faster searches with owner-based authentication and updated the default sort order to `updated_at` for improved query performance.\n</Update>\n\n<Update label=\"2025-07-31\" tags={[\"agent-server\"]}>\n  ## v0.2.116\n\nReduced the default number of history checkpoints from 10 to 1 to optimize performance.\n</Update>\n\n<Update label=\"2025-07-31\" tags={[\"agent-server\"]}>\n  ## v0.2.115\n\nOptimized cache re-use to enhance application performance and efficiency.\n</Update>\n\n<Update label=\"2025-07-30\" tags={[\"agent-server\"]}>\n  ## v0.2.113\n\nImproved thread search pagination by updating response headers with `X-Pagination-Total` and `X-Pagination-Next` for better navigation.\n</Update>\n\n<Update label=\"2025-07-30\" tags={[\"agent-server\"]}>\n  ## v0.2.112\n\n* Ensured sync logging methods are awaited and added a linter to prevent future occurrences.\n  * Fixed an issue where JavaScript tasks were not being populated correctly for JS graphs.\n</Update>\n\n<Update label=\"2025-07-29\" tags={[\"agent-server\"]}>\n  ## v0.2.111\n\nFixed JS graph streaming failure by starting the heartbeat as soon as the connection opens.\n</Update>\n\n<Update label=\"2025-07-29\" tags={[\"agent-server\"]}>\n  ## v0.2.110\n\nAdded interrupts as default values for join operations while preserving stream behavior.\n</Update>\n\n<Update label=\"2025-07-28\" tags={[\"agent-server\"]}>\n  ## v0.2.109\n\nFixed an issue where config schema was missing when `config_type` was not set, ensuring more reliable configurations.\n</Update>\n\n<Update label=\"2025-07-28\" tags={[\"agent-server\"]}>\n  ## v0.2.108\n\nPrepared for LangGraph v0.6 compatibility with new context API support and bug fixes.\n</Update>\n\n<Update label=\"2025-07-27\" tags={[\"agent-server\"]}>\n  ## v0.2.107\n\n* Implemented caching for authentication processes to enhance performance and efficiency.\n  * Optimized database performance by merging count and select queries.\n</Update>\n\n<Update label=\"2025-07-27\" tags={[\"agent-server\"]}>\n  ## v0.2.106\n\nMade log streams resumable, enhancing reliability and improving user experience when reconnecting.\n</Update>\n\n<Update label=\"2025-07-27\" tags={[\"agent-server\"]}>\n  ## v0.2.105\n\nAdded a heapdump endpoint to save memory heap information to a file.\n</Update>\n\n<Update label=\"2025-07-25\" tags={[\"agent-server\"]}>\n  ## v0.2.103\n\nUsed the correct metadata endpoint to resolve issues with data retrieval.\n</Update>\n\n<Update label=\"2025-07-24\" tags={[\"agent-server\"]}>\n  ## v0.2.102\n\n* Captured interrupt events in the wait method to preserve previous behavior from langgraph 0.5.0.\n  * Added support for SDK structlog in the JavaScript environment for enhanced logging capabilities.\n</Update>\n\n<Update label=\"2025-07-24\" tags={[\"agent-server\"]}>\n  ## v0.2.101\n\nCorrected the metadata endpoint for self-hosted deployments.\n</Update>\n\n<Update label=\"2025-07-22\" tags={[\"agent-server\"]}>\n  ## v0.2.99\n\n* Improved license check by adding an in-memory cache and handling Redis connection errors more effectively.\n  * Reloaded assistants to preserve manually created ones while discarding those removed from the configuration file.\n  * Reverted changes to ensure the UI namespace for gen UI is a valid JavaScript property name.\n  * Ensured that the UI namespace for generated UI is a valid JavaScript property name, improving API compliance.\n  * Enhanced error handling to return a 422 status code for unprocessable entity requests.\n</Update>\n\n<Update label=\"2025-07-19\" tags={[\"agent-server\"]}>\n  ## v0.2.98\n\nAdded context to langgraph nodes to improve log filtering and trace visibility.\n</Update>\n\n<Update label=\"2025-07-19\" tags={[\"agent-server\"]}>\n  ## v0.2.97\n\n* Improved interoperability with the ckpt ingestion worker on the main loop to prevent task scheduling issues.\n  * Delayed queue worker startup until after migrations are completed to prevent premature execution.\n  * Enhanced thread state error handling by adding specific metadata and improved response codes for better clarity when state updates fail during creation.\n  * Exposed the interrupt ID when retrieving the thread state to improve API transparency.\n</Update>\n\n<Update label=\"2025-07-17\" tags={[\"agent-server\"]}>\n  ## v0.2.96\n\nAdded a fallback mechanism for configurable header patterns to handle exclude/include settings more effectively.\n</Update>\n\n<Update label=\"2025-07-17\" tags={[\"agent-server\"]}>\n  ## v0.2.95\n\n* Avoided setting the future if it is already done to prevent redundant operations.\n  * Resolved compatibility errors in CI by switching from `typing.TypedDict` to `typing_extensions.TypedDict` for Python versions below 3.12.\n</Update>\n\n<Update label=\"2025-07-16\" tags={[\"agent-server\"]}>\n  ## v0.2.94\n\n* Improved performance by omitting pending sends for langgraph versions 0.5 and above.\n  * Improved server startup logs to provide clearer warnings when the DD\\_API\\_KEY environment variable is set.\n</Update>\n\n<Update label=\"2025-07-16\" tags={[\"agent-server\"]}>\n  ## v0.2.93\n\nRemoved the GIN index for run metadata to improve performance.\n</Update>\n\n<Update label=\"2025-07-16\" tags={[\"agent-server\"]}>\n  ## v0.2.92\n\nEnabled copying functionality for blobs and checkpoints, improving data management flexibility.\n</Update>\n\n<Update label=\"2025-07-16\" tags={[\"agent-server\"]}>\n  ## v0.2.91\n\nReduced writes to the `checkpoint_blobs` table by inlining small values (null, numeric, str, etc.). This means we don't need to store extra values for channels that haven't been updated.\n</Update>\n\n<Update label=\"2025-07-16\" tags={[\"agent-server\"]}>\n  ## v0.2.90\n\nImprove checkpoint writes via node-local background queueing.\n</Update>\n\n<Update label=\"2025-07-15\" tags={[\"agent-server\"]}>\n  ## v0.2.89\n\nDecoupled checkpoint writing from thread/run state by removing foreign keys and updated logger to prevent timeout-related failures.\n</Update>\n\n<Update label=\"2025-07-14\" tags={[\"agent-server\"]}>\n  ## v0.2.88\n\nRemoved the foreign key constraint for `thread` in the `run` table to simplify database schema.\n</Update>\n\n<Update label=\"2025-07-14\" tags={[\"agent-server\"]}>\n  ## v0.2.87\n\nAdded more detailed logs for Redis worker signaling to improve debugging.\n</Update>\n\n<Update label=\"2025-07-11\" tags={[\"agent-server\"]}>\n  ## v0.2.86\n\nHonored tool descriptions in the `/mcp` endpoint to align with expected functionality.\n</Update>\n\n<Update label=\"2025-07-10\" tags={[\"agent-server\"]}>\n  ## v0.2.85\n\nAdded support for the `on_disconnect` field to `runs/wait` and included disconnect logs for better debugging.\n</Update>\n\n<Update label=\"2025-07-09\" tags={[\"agent-server\"]}>\n  ## v0.2.84\n\nRemoved unnecessary status updates to streamline thread handling and updated version to 0.2.84.\n</Update>\n\n<Update label=\"2025-07-09\" tags={[\"agent-server\"]}>\n  ## v0.2.83\n\n* Reduced the default time-to-live for resumable streams to 2 minutes.\n  * Enhanced data submission logic to send data to both Beacon and LangSmith instance based on license configuration.\n  * Enabled submission of self-hosted data to a LangSmith instance when the endpoint is configured.\n</Update>\n\n<Update label=\"2025-07-03\" tags={[\"agent-server\"]}>\n  ## v0.2.82\n\nAddressed a race condition in background runs by implementing a lock using join, ensuring reliable execution across CTEs.\n</Update>\n\n<Update label=\"2025-07-03\" tags={[\"agent-server\"]}>\n  ## v0.2.81\n\nOptimized run streams by reducing initial wait time to improve responsiveness for older or non-existent runs.\n</Update>\n\n<Update label=\"2025-07-03\" tags={[\"agent-server\"]}>\n  ## v0.2.80\n\nCorrected parameter passing in the `logger.ainfo()` API call to resolve a TypeError.\n</Update>\n\n<Update label=\"2025-07-02\" tags={[\"agent-server\"]}>\n  ## v0.2.79\n\n* Fixed a JsonDecodeError in checkpointing with remote graph by correcting JSON serialization to handle trailing slashes properly.\n  * Introduced a configuration flag to disable webhooks globally across all routes.\n</Update>\n\n<Update label=\"2025-07-02\" tags={[\"agent-server\"]}>\n  ## v0.2.78\n\n* Added timeout retries to webhook calls to improve reliability.\n  * Added HTTP request metrics, including a request count and latency histogram, for enhanced monitoring capabilities.\n</Update>\n\n<Update label=\"2025-07-02\" tags={[\"agent-server\"]}>\n  ## v0.2.77\n\n* Added HTTP metrics to improve performance monitoring.\n  * Changed the Redis cache delimiter to reduce conflicts with subgraph message names and updated caching behavior.\n</Update>\n\n<Update label=\"2025-07-01\" tags={[\"agent-server\"]}>\n  ## v0.2.76\n\nUpdated Redis cache delimiter to prevent conflicts with subgraph messages.\n</Update>\n\n<Update label=\"2025-06-30\" tags={[\"agent-server\"]}>\n  ## v0.2.74\n\nScheduled webhooks in an isolated loop to ensure thread-safe operations and prevent errors with PYTHONASYNCIODEBUG=1.\n</Update>\n\n<Update label=\"2025-06-27\" tags={[\"agent-server\"]}>\n  ## v0.2.73\n\n* Fixed an infinite frame loop issue and removed the dict\\_parser due to structlog's unexpected behavior.\n  * Throw a 409 error on deadlock occurrence during run cancellations to handle lock conflicts gracefully.\n</Update>\n\n<Update label=\"2025-06-27\" tags={[\"agent-server\"]}>\n  ## v0.2.72\n\n* Ensured compatibility with future langgraph versions.\n  * Implemented a 409 response status to handle deadlock issues during cancellation.\n</Update>\n\n<Update label=\"2025-06-26\" tags={[\"agent-server\"]}>\n  ## v0.2.71\n\nImproved logging for better clarity and detail regarding log types.\n</Update>\n\n<Update label=\"2025-06-26\" tags={[\"agent-server\"]}>\n  ## v0.2.70\n\nImproved error handling to better distinguish and log TimeoutErrors caused by users from internal run timeouts.\n</Update>\n\n<Update label=\"2025-06-26\" tags={[\"agent-server\"]}>\n  ## v0.2.69\n\nAdded sorting and pagination to the crons API and updated schema definitions for improved accuracy.\n</Update>\n\n<Update label=\"2025-06-26\" tags={[\"agent-server\"]}>\n  ## v0.2.66\n\nFixed a 404 error when creating multiple runs with the same thread\\_id using `on_not_exist=\"create\"`.\n</Update>\n\n<Update label=\"2025-06-25\" tags={[\"agent-server\"]}>\n  ## v0.2.65\n\n* Ensured that only fields from `assistant_versions` are returned when necessary.\n  * Ensured consistent data types for in-memory and PostgreSQL users, improving internal authentication handling.\n</Update>\n\n<Update label=\"2025-06-24\" tags={[\"agent-server\"]}>\n  ## v0.2.64\n\nAdded descriptions to version entries for better clarity.\n</Update>\n\n<Update label=\"2025-06-23\" tags={[\"agent-server\"]}>\n  ## v0.2.62\n\n* Improved user handling for custom authentication in the JS Studio.\n  * Added Prometheus-format run statistics to the metrics endpoint for better monitoring.\n  * Added run statistics in Prometheus format to the metrics endpoint.\n</Update>\n\n<Update label=\"2025-06-20\" tags={[\"agent-server\"]}>\n  ## v0.2.61\n\nSet a maximum idle time for Redis connections to prevent unnecessary open connections.\n</Update>\n\n<Update label=\"2025-06-20\" tags={[\"agent-server\"]}>\n  ## v0.2.60\n\n* Enhanced error logging to include traceback details for dictionary operations.\n  * Added a `/metrics` endpoint to expose queue worker metrics for monitoring.\n</Update>\n\n<Update label=\"2025-06-18\" tags={[\"agent-server\"]}>\n  ## v0.2.57\n\n* Removed CancelledError from retriable exceptions to allow local interrupts while maintaining retriability for workers.\n  * Introduced middleware to gracefully shut down the server after completing in-flight requests upon receiving a SIGINT.\n  * Reduced metadata stored in checkpoint to only include necessary information.\n  * Improved error handling in join runs to return error details when present.\n</Update>\n\n<Update label=\"2025-06-17\" tags={[\"agent-server\"]}>\n  ## v0.2.56\n\nImproved application stability by adding a handler for SIGTERM signals.\n</Update>\n\n<Update label=\"2025-06-17\" tags={[\"agent-server\"]}>\n  ## v0.2.55\n\n* Improved the handling of cancellations in the queue entrypoint.\n  * Improved cancellation handling in the queue entry point.\n</Update>\n\n<Update label=\"2025-06-16\" tags={[\"agent-server\"]}>\n  ## v0.2.54\n\n* Enhanced error message for LuaLock timeout during license validation.\n  * Fixed the \\$contains filter in custom auth by requiring an explicit ::text cast and updated tests accordingly.\n  * Ensured project and tenant IDs are formatted as UUIDs for consistency.\n</Update>\n\n<Update label=\"2025-06-13\" tags={[\"agent-server\"]}>\n  ## v0.2.53\n\n* Resolved a timing issue to ensure the queue starts only after the graph is registered.\n  * Improved performance by setting thread and run status in a single query and enhanced error handling during checkpoint writes.\n  * Reduced the default background grace period to 3 minutes.\n</Update>\n\n<Update label=\"2025-06-12\" tags={[\"agent-server\"]}>\n  ## v0.2.52\n\n* Now logging expected graphs when one is omitted to improve traceability.\n  * Implemented a time-to-live (TTL) feature for resumable streams.\n  * Improved query efficiency and consistency by adding a unique index and optimizing row locking.\n</Update>\n\n<Update label=\"2025-06-12\" tags={[\"agent-server\"]}>\n  ## v0.2.51\n\n* Handled `CancelledError` by marking tasks as ready to retry, improving error management in worker processes.\n  * Added LG API version and request ID to metadata and logs for better tracking.\n  * Added LG API version and request ID to metadata and logs to improve traceability.\n  * Improved database performance by creating indexes concurrently.\n  * Ensured postgres write is committed only after the Redis running marker is set to prevent race conditions.\n  * Enhanced query efficiency and reliability by adding a unique index on thread\\_id/running, optimizing row locks, and ensuring deterministic run selection.\n  * Resolved a race condition by ensuring Postgres updates only occur after the Redis running marker is set.\n</Update>\n\n<Update label=\"2025-06-07\" tags={[\"agent-server\"]}>\n  ## v0.2.46\n\nIntroduced a new connection for each operation while preserving transaction characteristics in Threads state `update()` and `bulk()` commands.\n</Update>\n\n<Update label=\"2025-06-05\" tags={[\"agent-server\"]}>\n  ## v0.2.45\n\n* Enhanced streaming feature by incorporating tracing contexts.\n  * Removed an unnecessary query from the Crons.search function.\n  * Resolved connection reuse issue when scheduling next run for multiple cron jobs.\n  * Removed an unnecessary query in the Crons.search function to improve efficiency.\n  * Resolved an issue with scheduling the next cron run by improving connection reuse.\n</Update>\n\n<Update label=\"2025-06-04\" tags={[\"agent-server\"]}>\n  ## v0.2.44\n\n* Enhanced the worker logic to exit the pipeline before continuing when the Redis message limit is reached.\n  * Introduced a ceiling for Redis message size with an option to skip messages larger than 128 MB for improved performance.\n  * Ensured the pipeline always closes properly to prevent resource leaks.\n</Update>\n\n<Update label=\"2025-06-04\" tags={[\"agent-server\"]}>\n  ## v0.2.43\n\n* Improved performance by omitting logs in metadata calls and ensuring output schema compliance in value streaming.\n  * Ensured the connection is properly closed after use.\n  * Aligned output format to strictly adhere to the specified schema.\n  * Stopped sending internal logs in metadata requests to improve privacy.\n</Update>\n\n<Update label=\"2025-06-04\" tags={[\"agent-server\"]}>\n  ## v0.2.42\n\n* Added timestamps to track the start and end of a request's run.\n  * Added tracer information to the configuration settings.\n  * Added support for streaming with tracing contexts.\n</Update>\n\n<Update label=\"2025-06-03\" tags={[\"agent-server\"]}>\n  ## v0.2.41\n\nAdded locking mechanism to prevent errors in pipelined executions.\n</Update>\n\n<Callout icon=\"pen-to-square\" iconType=\"regular\">\n  [Edit this page on GitHub](https://github.com/langchain-ai/docs/edit/main/src/langsmith/agent-server-changelog.mdx) or [file an issue](https://github.com/langchain-ai/docs/issues/new/choose).\n</Callout>\n\n<Tip icon=\"terminal\" iconType=\"regular\">\n  [Connect these docs](/use-these-docs) to Claude, VSCode, and more via MCP for real-time answers.\n</Tip>",
  "code_samples": [
    {
      "code": "This bump also includes some fixes, including a bug exposing unintended internal events in run streams.\n</Update>\n\n<Update label=\"2025-12-12\" tags={[\"agent-server\"]}>\n  ## v0.5.42\n\n  * Modified the Go server to rely solely on the CLI `-service` flag for determining service mode, ignoring the globally set `FF_USE_CORE_API` for better deployment specificity.\n</Update>\n\n<Update label=\"2025-12-11\" tags={[\"agent-server\"]}>\n  ## v0.5.41\n\n  Fixed an issue with cron jobs in hybrid mode by ensuring proper initialization of the ENTERPRISE\\_SAAS global flag.\n</Update>\n\n<Update label=\"2025-12-10\" tags={[\"agent-server\"]}>\n  ## v0.5.39\n\n  * Completed the implementation of custom encryptions for runs and crons, along with simplifying encryption processes.\n  * Introduced support for streaming subgraph events in both `values` and `updates` stream modes.\n</Update>\n\n<Update label=\"2025-12-10\" tags={[\"agent-server\"]}>\n  ## v0.5.38\n\n  * Implemented complete custom encryption for threads, ensuring all thread data is properly secured and encrypted.\n  * Ensured Redis attempt flags are consistently expired to prevent stale data.\n  * Added core authentication and support for OR/AND filters, enhancing security and flexibility.\n</Update>\n\n<Update label=\"2025-12-09\" tags={[\"agent-server\"]}>\n  ## v0.5.37\n\n  Added a `name` parameter to the assistants count API for improved search flexibility.\n</Update>\n\n<Update label=\"2025-12-09\" tags={[\"agent-server\"]}>\n  ## v0.5.36\n\n  * Introduced configurable webhook support, allowing users to customize submitted webhooks and headers.\n  * Added an `/ok` endpoint at the root for easier health checks and simplified configuration.\n</Update>\n\n<Update label=\"2025-12-08\" tags={[\"agent-server\"]}>\n  ## v0.5.34\n\n  Introduced custom encryption middleware, allowing users to define their own encryption methods for enhanced data protection.\n</Update>\n\n<Update label=\"2025-12-08\" tags={[\"agent-server\"]}>\n  ## v0.5.33\n\n  Set Uvicorn's keep-alive timeout to 75 seconds to prevent occasional 502 errors and improve connection handling.\n</Update>\n\n<Update label=\"2025-12-06\" tags={[\"agent-server\"]}>\n  ## v0.5.32\n\n  Introduced OpenTelemetry telemetry agent with support for New Relic integration.\n</Update>\n\n<Update label=\"2025-12-05\" tags={[\"agent-server\"]}>\n  ## v0.5.31\n\n  Added Py-Spy profiling for improved analysis of deployment performance, with some limitations on coverage.\n</Update>\n\n<Update label=\"2025-12-05\" tags={[\"agent-server\"]}>\n  ## v0.5.30\n\n  * Always configure loopback transport clients to enhance reliability.\n  * Ensured authentication headers are passed for remote non-stream methods in JS.\n</Update>\n\n<Update label=\"2025-12-04\" tags={[\"agent-server\"]}>\n  ## v0.5.28\n\n  * Introduced a faster, Rust-based implementation of uuid7 to improve performance, now used in langsmith and langchain-core.\n  * Added support for `$or` and `$and` in PostgreSQL auth filters to enable complex logic in authentication checks.\n  * Capped psycopg and psycopg-pool versions to prevent infinite waiting on startup.\n</Update>\n\n<Update label=\"2025-11-26\" tags={[\"agent-server\"]}>\n  ## v0.5.27\n\n  * Ensured `runs.list` with filters returns only run fields, preventing incorrect status data from being included.\n  * (JS) Updated `uuid` from version 10.0.0 to 13.0.0. and `exit-hook` from version 4.0.0 to 5.0.1.\n</Update>\n\n<Update label=\"2025-11-24\" tags={[\"agent-server\"]}>\n  ## v0.5.26\n\n  Resolved issues with `store.put` when used without AsyncBatchedStore in the JavaScript environment.\n</Update>\n\n<Update label=\"2025-11-22\" tags={[\"agent-server\"]}>\n  ## v0.5.25\n\n  * Introduced the ability to search assistants by their `name` using a new endpoint.\n  * Casted store\\_get return types to tuple in JavaScript to ensure type consistency.\n</Update>\n\n<Update label=\"2025-11-21\" tags={[\"agent-server\"]}>\n  ## v0.5.24\n\n  * Added executor metrics for Datadog and enhanced core stream API metrics for better performance tracking.\n  * Disabled Redis Go maintenance notifications to prevent startup errors with unsupported commands in Redis versions below 8.\n</Update>\n\n<Update label=\"2025-11-20\" tags={[\"agent-server\"]}>\n  ## v0.5.20\n\n  Resolved an error in the executor service that occurred when handling large messages.\n</Update>\n\n<Update label=\"2025-11-19\" tags={[\"agent-server\"]}>\n  ## v0.5.19\n\n  Upgraded built-in langchain-core to version 1.0.7 to address a prompt formatting vulnerability.\n</Update>\n\n<Update label=\"2025-11-19\" tags={[\"agent-server\"]}>\n  ## v0.5.18\n\n  Introduced persistent cron threads with `on_run_completed: {keep,delete}` for enhanced cron management and retrieval options.\n</Update>\n\n<Update label=\"2025-11-19\" tags={[\"agent-server\"]}>\n  ## v0.5.17\n\n  Enhanced task handling to support multiple interrupts, aligning with open-source functionality.\n</Update>\n\n<Update label=\"2025-11-18\" tags={[\"agent-server\"]}>\n  ## v0.5.15\n\n  Added custom JSON unmarshalling for `Resume` and `Goto` commands to fix map-style null resume interpretation issues.\n</Update>\n\n<Update label=\"2025-11-14\" tags={[\"agent-server\"]}>\n  ## v0.5.14\n\n  Ensured `pg make start` command functions correctly with core-api enabled.\n</Update>\n\n<Update label=\"2025-11-13\" tags={[\"agent-server\"]}>\n  ## v0.5.13\n\n  Support `include` and `exclude` (plural form key for `includes` and `excludes`) since a doc incorrectly claimed support for that. Now the server accepts either.\n</Update>\n\n<Update label=\"2025-11-10\" tags={[\"agent-server\"]}>\n  ## v0.5.11\n\n  * Ensured auth handlers are applied consistently when streaming threads, aligning with recent security practices.\n  * Bumped `undici` dependency from version 6.21.3 to 7.16.0, introducing various performance improvements and bug fixes.\n  * Updated `p-queue` from version 8.0.1 to 9.0.0, introducing new features and breaking changes, including the removal of the `throwOnTimeout` option.\n</Update>\n\n<Update label=\"2025-11-10\" tags={[\"agent-server\"]}>\n  ## v0.5.10\n\n  Implemented healthcheck calls in the queue /ok handler to improve Kubernetes liveness and readiness probe compatibility.\n</Update>\n\n<Update label=\"2025-11-09\" tags={[\"agent-server\"]}>\n  ## v0.5.9\n\n  * Resolved an issue causing an \"unbound local error\" for the `elapsed` variable during a SIGINT interruption.\n  * Mapped the \"interrupted\" status to A2A's \"input-required\" status for better task status alignment.\n</Update>\n\n<Update label=\"2025-11-07\" tags={[\"agent-server\"]}>\n  ## v0.5.8\n\n  * Ensured environment variables are passed as a dictionary when starting langgraph-ui for compatibility with `uvloop`.\n  * Implemented CRUD operations for runs in Go, simplifying JSON merges and improving transaction readability, with PostgreSQL as a reference.\n</Update>\n\n<Update label=\"2025-11-07\" tags={[\"agent-server\"]}>\n  ## v0.5.7\n\n  Replaced no-retry Redis client with a retry client to handle connection errors more effectively and reduced corresponding logging severity.\n</Update>\n\n<Update label=\"2025-11-06\" tags={[\"agent-server\"]}>\n  ## v0.5.6\n\n  * Added pending time metrics to provide better insights into task waiting times.\n  * Replaced `pb.Value` with `ChannelValue` to streamline code structure.\n</Update>\n\n<Update label=\"2025-11-05\" tags={[\"agent-server\"]}>\n  ## v0.5.5\n\n  Made the Redis `health_check_interval` more frequent and configurable for better handling of idle connections.\n</Update>\n\n<Update label=\"2025-11-05\" tags={[\"agent-server\"]}>\n  ## v0.5.4\n\n  Implemented `ormsgpack` with `OPT_REPLACE_SURROGATES` and updated for compatibility with the latest FastAPI release affecting custom authentication dependencies.\n</Update>\n\n<Update label=\"2025-11-03\" tags={[\"agent-server\"]}>\n  ## v0.5.2\n\n  Added retry logic for PostgreSQL connections during startup to enhance deployment reliability and improved error logging for easier debugging.\n</Update>\n\n<Update label=\"2025-11-03\" tags={[\"agent-server\"]}>\n  ## v0.5.1\n\n  * Resolved an issue where persistence was not functioning correctly with LangChain.js's createAgent feature.\n  * Optimized assistants CRUD performance by improving database connection pooling and gRPC client reuse, reducing latency for large payloads.\n</Update>\n\n<Update label=\"2025-10-31\" tags={[\"agent-server\"]}>\n  ## v0.5.0\n\n  This minor version now requires langgraph-checkpoint versions later than 3.0 to prevent a deserialization vulnerability in earlier versions of the langgraph-checkpoint library.\n  The `langgraph-checkpoint` library is compatible with `langgraph` minor versions 0.4, 0.5, 0.6, and 1.0.\n\n  This version removes default support for deserialization of payloads saved using the \"json\" type, which has never been the default.\n  By default, objects are serialized using msgpack. Under certain uncommon situations, payloads were serialized using an older \"json\" mode. If those payloads contained custom python objects, those will no longer be deserializable unless you provide a `serde` config:",
      "language": "unknown"
    }
  ],
  "headings": [],
  "url": "llms-txt#agent-server-changelog",
  "links": []
}
{
  "title": "Set up SSO with OAuth2.0 and OIDC",
  "content": "Source: https://docs.langchain.com/langsmith/self-host-sso\n\nLangSmith Self-Hosted provides SSO via OAuth2.0 and OIDC. This will delegate authentication to your Identity Provider (IdP) to manage access to LangSmith.\n\nOur implementation supports almost anything that is OIDC compliant, with a few exceptions. Once configured, you will see a login screen like this:\n\n<img src=\"https://mintcdn.com/langchain-5e9cc07a/4kN8yiLrZX_amfFn/langsmith/images/langsmith-ui-sso.png?fit=max&auto=format&n=4kN8yiLrZX_amfFn&q=85&s=bbe6447424ea3e97a486b67d21cd4f6b\" alt=\"LangSmith UI with OAuth SSO\" data-og-width=\"1596\" width=\"1596\" data-og-height=\"994\" height=\"994\" data-path=\"langsmith/images/langsmith-ui-sso.png\" data-optimize=\"true\" data-opv=\"3\" srcset=\"https://mintcdn.com/langchain-5e9cc07a/4kN8yiLrZX_amfFn/langsmith/images/langsmith-ui-sso.png?w=280&fit=max&auto=format&n=4kN8yiLrZX_amfFn&q=85&s=6046e421d56b069227060520ecf3c2a8 280w, https://mintcdn.com/langchain-5e9cc07a/4kN8yiLrZX_amfFn/langsmith/images/langsmith-ui-sso.png?w=560&fit=max&auto=format&n=4kN8yiLrZX_amfFn&q=85&s=03fc4a6909af9f15dca14af7e3891cda 560w, https://mintcdn.com/langchain-5e9cc07a/4kN8yiLrZX_amfFn/langsmith/images/langsmith-ui-sso.png?w=840&fit=max&auto=format&n=4kN8yiLrZX_amfFn&q=85&s=53693db675b2bdd6cefd7e9b8b605af6 840w, https://mintcdn.com/langchain-5e9cc07a/4kN8yiLrZX_amfFn/langsmith/images/langsmith-ui-sso.png?w=1100&fit=max&auto=format&n=4kN8yiLrZX_amfFn&q=85&s=4b2135a1a76bf2e34eb914b8b00f58dc 1100w, https://mintcdn.com/langchain-5e9cc07a/4kN8yiLrZX_amfFn/langsmith/images/langsmith-ui-sso.png?w=1650&fit=max&auto=format&n=4kN8yiLrZX_amfFn&q=85&s=78141a4d748d77bc1cceede89e62087d 1650w, https://mintcdn.com/langchain-5e9cc07a/4kN8yiLrZX_amfFn/langsmith/images/langsmith-ui-sso.png?w=2500&fit=max&auto=format&n=4kN8yiLrZX_amfFn&q=85&s=8532b1891c98046f171f1bded2523f3a 2500w\" />\n\n<Note>\n  You may upgrade a [basic auth](/langsmith/self-host-basic-auth) installation to this mode, but not a [none auth](/langsmith/authentication-methods#none) installation. In order to upgrade, simply remove the basic auth configuration and add the required configuration parameters as shown below. Users may then login via OAuth *only*. **In order to maintain access post-upgrade, you must have access to login via OAuth using an email address that previously logged in via basic auth.**\n</Note>\n\n<Warning>\n  LangSmith does not support moving from SSO to basic auth mode in self-hosted at the moment. We also do not support moving from OAuth Mode with client secret to OAuth mode without a client secret and vice versa. Finally, we do not support having both basic auth and OAuth at the same time. Ensure you disable the basic auth configuration when enabling OAuth.\n</Warning>\n\n## With Client Secret (Recommended)\n\nBy default, LangSmith Self-Hosted supports the `Authorization Code` flow with `Client Secret`. In this version of the flow, your client secret is stored security in LangSmith (not on the frontend) and used for authentication and establishing auth sessions.\n\n* You must be self-hosted and on an Enterprise plan.\n* Your IdP must support the `Authorization Code` flow with `Client Secret`.\n* Your IdP must support using an external discovery/issuer URL. We will use this to fetch the necessary routes and keys for your IdP.\n* You must provide the `OIDC`, `email`, and `profile` scopes to LangSmith. We use these to fetch the necessary user information and email for your users.\n\n<Note>\n  LangSmith SSO is only supported over `https`.\n</Note>\n\n* You will need to set the callback URL in your IdP to `https://<host>/api/v1/oauth/custom-oidc/callback`, where `host` is the domain or IP you have provisioned for your LangSmith instance. This is where your IdP will redirect the user after they have authenticated.\n* You will need to provide the `oauthClientId`, `oauthClientSecret`, `hostname`, and `oauthIssuerUrl` in your `values.yaml` file. This is where you will configure your LangSmith instance.\n* If you have **not** already configured Oauth with client secret or if you only have personal orgs, you must provide an email address to assign as the initial org admin for the newly provisioned SSO org. If you are upgrading from basic auth, your existing org will be reused instead.\n\n### Session length controls\n\n<Note>\n  All of the environment variables in this section are for the `platform-backend` service and can be added using `platformBackend.deployment.extraEnv` in Helm.\n</Note>\n\n* By default, session length is controlled by the expiration of the identity token returned by the identity provider\n* Most setups should use refresh tokens to enable session length extension beyond the identity token expiration up to `OAUTH_SESSION_MAX_SEC`, which may require including the `offline_access` scope by adding to `oauthScopes` (Helm) or `OAUTH_SCOPES` (Docker)\n* `OAUTH_SESSION_MAX_SEC` (default 1 day) can be overridden to a maximum of one week (`604800`)\n* For identity provider setups that don't support refresh tokens, setting `OAUTH_OVERRIDE_TOKEN_EXPIRY=\"true\"` will take `OAUTH_SESSION_MAX_SEC` as the session length, ignoring the identity token expiration\n\n### Override Sub Claim\n\nIn some scenarios, it may be necessary to override which claim is used as the `sub` claim from your identity provider.\nFor example, in SCIM, the resolved `sub` claim and SCIM `externalId` must match in order for login to succeed.\nIf there are restrictions on the source attribute of the `sub` claim and/or the SCIM `externalId`, set the `ISSUER_SUB_CLAIM_OVERRIDES` environment variable to select which OIDC JWT claim is used as the `sub`.\n\nIf an issuer URL **starts with** one of the URLs in this configuration, the `sub` claim is taken from the field name specified.\nFor example, with the following configuration, a token with the issuer `https://idp.yourdomain.com/application/uuid` would use the `customClaim` value as the `sub`:\n\nIf unset, the default value for this configuration uses the `oid` claim when Azure Entra ID is used as the identity provider:\n\n### Google Workspace IdP setup\n\nYou can use Google Workspace as a single sign-on (SSO) provider using [OAuth2.0 and OIDC](https://developers.google.com/identity/openid-connect/openid-connect) without PKCE.\n\n<Note>\n  You must have administrator-level access to your organization's Google Cloud Platform (GCP) account to create a new project, or permissions to create and configure OAuth 2.0 credentials for an existing project. We recommend that you create a new project for managing access, since each GCP project has a single OAuth consent screen.\n</Note>\n\n1. Create a new GCP project, see the Google documentation topic [creating and managing projects](https://cloud.google.com/resource-manager/docs/creating-managing-projects)\n\n2. After you have created the project, open the [Credentials](https://console.developers.google.com/apis/credentials) page in the Google API Console (making sure the project in the top left corner is correct)\n\n3. Create new credentials: `Create Credentials → OAuth client ID`\n\n4. Choose `Web application` as the `Application type` and enter a name for the application e.g. `LangSmith`\n\n5. In `Authorized Javascript origins` put the domain of your LangSmith instance e.g. `https://langsmith.yourdomain.com`\n\n6. In `Authorized redirect URIs` put the domain of your LangSmith instance followed by `/api/v1/oauth/custom-oidc/callback` e.g. `https://langsmith.yourdomain.com/api/v1/oauth/custom-oidc/callback`\n\n7. Click `Create`, then download the JSON or copy and save the `Client ID` (ends with `.apps.googleusercontent.com`) and `Client secret` somewhere secure. **You will be able to access these later if needed**.\n\n8. Select `OAuth consent screen` from the navigation menu on the left\n\n1. Choose the Application type as `Internal`. **If you select `Public`, anyone with a Google account can sign in.**\n   2. Enter a descriptive `Application name`. This name is shown to users on the consent screen when they sign in. For example, use `LangSmith` or `<organization_name> SSO for LangSmith`.\n   3. Verify that the Scopes for Google APIs only lists email, profile, and openid scopes. Only these scopes are required for single sign-on. If you grant additional scopes it increases the risk of exposing sensitive data.\n\n9. (Optional) control who within your organization has access to LangSmith: [https://admin.google.com/ac/owl/list?tab=configuredApps](https://admin.google.com/ac/owl/list?tab=configuredApps). See [Google's documentation](https://support.google.com/a/answer/7281227?hl=en\\&fl=1\\&sjid=9554153972856467090-NA) for additional details.\n\n10. Configure LangSmith to use this OAuth application. For examples, here are the `config`values that would be used for Kubernetes configuration:\n\n1. `oauthClientId`: `Client ID` (ends with `.apps.googleusercontent.com`)\n    2. `oauthClientSecret`: `Client secret`\n    3. `hostname`: the domain of your LangSmith instance e.g. `https://langsmith.yourdomain.com` (no trailing slash)\n    4. `oauthIssuerUrl`: `https://accounts.google.com`\n    5. `oauth.enabled`: `true`\n    6. `authType`: `mixed`\n\n#### Supported features\n\n* IdP-initiated SSO\n* SP-initiated SSO\n* Just-In-Time provisioning\n\n#### Configuration steps\n\nFor additional information, see Okta's [documentation](https://help.okta.com/en-us/content/topics/apps/apps_app_integration_wizard_oidc.htm).\nIf you have any questions or issues, please contact support via [support.langchain.com](https://support.langchain.com).\n\n<div id=\"via-okta-integration-network\">\n  <b>Via Okta Integration Network (recommended)</b>\n</div>\n\n<Info>For details on SCIM setup, refer to [Set up SCIM for your organization](/langsmith/user-management#set-up-scim-for-your-organization).</Info>\n\n<Note>\n  This method of configuration is required in order to use SCIM with Okta.\n</Note>\n\n1. Sign in to [Okta](https://login.okta.com/).\n2. In the upper-right corner, select Admin. The button is not visible from the Admin area.\n3. Select `Browse App Integration Catalog`.\n4. Find and select the LangSmith application.\n5. On the application overview page, select Add Integration.\n6. Fill in `ApiUrlBase`:\n   * Your LangSmith API URL **without the protocol** (`https://`) formatted as `<langsmith_domain>/api/v1`, e.g., `langsmith.yourdomain.com/api/v1`.\n   * If your installation is configured with a subdomain / path prefix, include that in the URL, e.g., `langsmith.yourdomain.com/prefix/api/v1`.\n7. Leave `AuthHost` empty.\n8. (Optional, if planning to use [SCIM](/langsmith/user-management#set-up-scim-for-your-organization) as well) Fill in `LangSmithUrl`: The `<langsmith_url>` portion from above, e.g., `langsmith.yourdomain.com`.\n9. Under Application Visibility, keep the box unchecked.\n10. Select Next.\n11. Select `OpenID Connect`.\n12. Fill in `Sign-On Options`:\n    * `Application username format`: `Email`.\n    * `Update application username on`: `Create and update`.\n    * `Allow users to securely see their password`: leave **unchecked**.\n13. Click **Save**.\n14. Configure LangSmith to use this OAuth application (see [general configuration section](#configuration) for details about `initialOrgAdminEmail`):\n\n<Info>For details on SCIM setup, refer to [Set up SCIM for your organization](/langsmith/user-management#set-up-scim-for-your-organization).</Info>\n\n<div id=\"via-okta-custom-app-integration\">\n  <b>Via Custom App Integration</b>\n</div>\n\n<Warning>\n  SCIM is not compatible with this method of configuration. Refer to [**Via Okta Integration Network**](#via-okta-integration-network).\n</Warning>\n\n1. Log in to Okta as an administrator, and go to the **Okta Admin console**.\n2. Under **Applications** > **Applications** click **Create App Integration**.\n3. Select **OIDC - OpenID Connect** as the Sign-in method and **Web Application** as the Application type, then click **Next**.\n4. Enter an `App integration name` (e.g., `LangSmith`).\n5. Recommended: Check **Core grants > Refresh Token** (see [session length controls](#session-length-controls)).\n6. In **Sign-in redirect URIs** put the domain of your LangSmith instance followed by `/api/v1/oauth/custom-oidc/callback`, e.g., `https://langsmith.yourdomain.com/api/v1/oauth/custom-oidc/callback`. If your installation is configured with a subdomain / path prefix, include that in the URL, e.g., `https://langsmith.yourdomain.com/prefix/api/v1/oauth/custom-oidc/callback`.\n7. Remove the default URI under **Sign-out redirect URIs**.\n8. Under **Trusted Origins > Base URIs** add your langsmith URL with the protocol, e.g., `https://langsmith.yourdomain.com`.\n9. Select your desired option under **Assignments > Controlled access**:\n   * Allow everyone in your organization to access.\n   * Limit access to selected groups.\n   * Skip group assignment for now.\n10. Click **Save**.\n11. Under **Sign On > OpenID Connect ID Token** set **Issuer** to **Okta URL**.\n12. (Optional) Under **General > Login** set **Login initiated by** to `Either Okta or App` to enable IdP-initiated login.\n13. (Recommended) Under **General > Login > Email verification experience** fill in the **Callback URI** with the LangSmith URL, e.g., `https://langsmith.yourdomain.com`.\n14. Configure LangSmith to use this OAuth application (see [general configuration section](#configuration) for details about `initialOrgAdminEmail`):\n\n#### SP-initiated SSO\n\nUsers can sign in using the **Login via SSO** button on the LangSmith homepage.\n\n## Without Client Secret (PKCE) (Deprecated)\n\nWe recommend running with a `Client Secret` if possible (previously we didn't support this). However, if your IdP does not support this, you can use the `Authorization Code with PKCE` flow.\n\nThis flow does *not* require a `Client Secret`. For the alternative workflow, refer to [With client secret](#with-client-secret-recommended).\n\nThere are a couple of requirements for using OAuth SSO with LangSmith:\n\n* Your IdP must support the `Authorization Code with PKCE` [flow](https://www.oauth.com/oauth2-servers/pkce) (Google does not support this flow for example, but see [above](#with-client-secret-recommended) for an alternative configuration that Google supports). This is often displayed in your OAuth Provider as configuring a \"Single Page Application (SPA)\"\n* Your IdP must support using an external discovery/issuer URL. We will use this to fetch the necessary routes and keys for your IdP.\n* You must provide the `OIDC`, `email`, and `profile` scopes to LangSmith. We use these to fetch the necessary user information and email for your users.\n* You will need to set the callback URL in your IdP to `http://<host>/oauth-callback`, where host is the domain or IP you have provisioned for your LangSmith instance. This is where your IdP will redirect the user after they have authenticated.\n* You will need to provide the `oauthClientId` and `oauthIssuerUrl` in your `values.yaml` file. This is where you will configure your LangSmith instance.\n\n<Callout icon=\"pen-to-square\" iconType=\"regular\">\n  [Edit this page on GitHub](https://github.com/langchain-ai/docs/edit/main/src/langsmith/self-host-sso.mdx) or [file an issue](https://github.com/langchain-ai/docs/issues/new/choose).\n</Callout>\n\n<Tip icon=\"terminal\" iconType=\"regular\">\n  [Connect these docs](/use-these-docs) to Claude, VSCode, and more via MCP for real-time answers.\n</Tip>",
  "code_samples": [
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "</CodeGroup>\n\n### Session length controls\n\n<Note>\n  All of the environment variables in this section are for the `platform-backend` service and can be added using `platformBackend.deployment.extraEnv` in Helm.\n</Note>\n\n* By default, session length is controlled by the expiration of the identity token returned by the identity provider\n* Most setups should use refresh tokens to enable session length extension beyond the identity token expiration up to `OAUTH_SESSION_MAX_SEC`, which may require including the `offline_access` scope by adding to `oauthScopes` (Helm) or `OAUTH_SCOPES` (Docker)\n* `OAUTH_SESSION_MAX_SEC` (default 1 day) can be overridden to a maximum of one week (`604800`)\n* For identity provider setups that don't support refresh tokens, setting `OAUTH_OVERRIDE_TOKEN_EXPIRY=\"true\"` will take `OAUTH_SESSION_MAX_SEC` as the session length, ignoring the identity token expiration\n\n### Override Sub Claim\n\nIn some scenarios, it may be necessary to override which claim is used as the `sub` claim from your identity provider.\nFor example, in SCIM, the resolved `sub` claim and SCIM `externalId` must match in order for login to succeed.\nIf there are restrictions on the source attribute of the `sub` claim and/or the SCIM `externalId`, set the `ISSUER_SUB_CLAIM_OVERRIDES` environment variable to select which OIDC JWT claim is used as the `sub`.\n\nIf an issuer URL **starts with** one of the URLs in this configuration, the `sub` claim is taken from the field name specified.\nFor example, with the following configuration, a token with the issuer `https://idp.yourdomain.com/application/uuid` would use the `customClaim` value as the `sub`:",
      "language": "unknown"
    },
    {
      "code": "If unset, the default value for this configuration uses the `oid` claim when Azure Entra ID is used as the identity provider:",
      "language": "unknown"
    },
    {
      "code": "### Google Workspace IdP setup\n\nYou can use Google Workspace as a single sign-on (SSO) provider using [OAuth2.0 and OIDC](https://developers.google.com/identity/openid-connect/openid-connect) without PKCE.\n\n<Note>\n  You must have administrator-level access to your organization's Google Cloud Platform (GCP) account to create a new project, or permissions to create and configure OAuth 2.0 credentials for an existing project. We recommend that you create a new project for managing access, since each GCP project has a single OAuth consent screen.\n</Note>\n\n1. Create a new GCP project, see the Google documentation topic [creating and managing projects](https://cloud.google.com/resource-manager/docs/creating-managing-projects)\n\n2. After you have created the project, open the [Credentials](https://console.developers.google.com/apis/credentials) page in the Google API Console (making sure the project in the top left corner is correct)\n\n3. Create new credentials: `Create Credentials → OAuth client ID`\n\n4. Choose `Web application` as the `Application type` and enter a name for the application e.g. `LangSmith`\n\n5. In `Authorized Javascript origins` put the domain of your LangSmith instance e.g. `https://langsmith.yourdomain.com`\n\n6. In `Authorized redirect URIs` put the domain of your LangSmith instance followed by `/api/v1/oauth/custom-oidc/callback` e.g. `https://langsmith.yourdomain.com/api/v1/oauth/custom-oidc/callback`\n\n7. Click `Create`, then download the JSON or copy and save the `Client ID` (ends with `.apps.googleusercontent.com`) and `Client secret` somewhere secure. **You will be able to access these later if needed**.\n\n8. Select `OAuth consent screen` from the navigation menu on the left\n\n   1. Choose the Application type as `Internal`. **If you select `Public`, anyone with a Google account can sign in.**\n   2. Enter a descriptive `Application name`. This name is shown to users on the consent screen when they sign in. For example, use `LangSmith` or `<organization_name> SSO for LangSmith`.\n   3. Verify that the Scopes for Google APIs only lists email, profile, and openid scopes. Only these scopes are required for single sign-on. If you grant additional scopes it increases the risk of exposing sensitive data.\n\n9. (Optional) control who within your organization has access to LangSmith: [https://admin.google.com/ac/owl/list?tab=configuredApps](https://admin.google.com/ac/owl/list?tab=configuredApps). See [Google's documentation](https://support.google.com/a/answer/7281227?hl=en\\&fl=1\\&sjid=9554153972856467090-NA) for additional details.\n\n10. Configure LangSmith to use this OAuth application. For examples, here are the `config`values that would be used for Kubernetes configuration:\n\n    1. `oauthClientId`: `Client ID` (ends with `.apps.googleusercontent.com`)\n    2. `oauthClientSecret`: `Client secret`\n    3. `hostname`: the domain of your LangSmith instance e.g. `https://langsmith.yourdomain.com` (no trailing slash)\n    4. `oauthIssuerUrl`: `https://accounts.google.com`\n    5. `oauth.enabled`: `true`\n    6. `authType`: `mixed`\n\n### Okta IdP setup\n\n#### Supported features\n\n* IdP-initiated SSO\n* SP-initiated SSO\n* Just-In-Time provisioning\n\n#### Configuration steps\n\nFor additional information, see Okta's [documentation](https://help.okta.com/en-us/content/topics/apps/apps_app_integration_wizard_oidc.htm).\nIf you have any questions or issues, please contact support via [support.langchain.com](https://support.langchain.com).\n\n<div id=\"via-okta-integration-network\">\n  <b>Via Okta Integration Network (recommended)</b>\n</div>\n\n<Info>For details on SCIM setup, refer to [Set up SCIM for your organization](/langsmith/user-management#set-up-scim-for-your-organization).</Info>\n\n<Note>\n  This method of configuration is required in order to use SCIM with Okta.\n</Note>\n\n1. Sign in to [Okta](https://login.okta.com/).\n2. In the upper-right corner, select Admin. The button is not visible from the Admin area.\n3. Select `Browse App Integration Catalog`.\n4. Find and select the LangSmith application.\n5. On the application overview page, select Add Integration.\n6. Fill in `ApiUrlBase`:\n   * Your LangSmith API URL **without the protocol** (`https://`) formatted as `<langsmith_domain>/api/v1`, e.g., `langsmith.yourdomain.com/api/v1`.\n   * If your installation is configured with a subdomain / path prefix, include that in the URL, e.g., `langsmith.yourdomain.com/prefix/api/v1`.\n7. Leave `AuthHost` empty.\n8. (Optional, if planning to use [SCIM](/langsmith/user-management#set-up-scim-for-your-organization) as well) Fill in `LangSmithUrl`: The `<langsmith_url>` portion from above, e.g., `langsmith.yourdomain.com`.\n9. Under Application Visibility, keep the box unchecked.\n10. Select Next.\n11. Select `OpenID Connect`.\n12. Fill in `Sign-On Options`:\n    * `Application username format`: `Email`.\n    * `Update application username on`: `Create and update`.\n    * `Allow users to securely see their password`: leave **unchecked**.\n13. Click **Save**.\n14. Configure LangSmith to use this OAuth application (see [general configuration section](#configuration) for details about `initialOrgAdminEmail`):\n\n<CodeGroup>",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "</CodeGroup>\n\n<Info>For details on SCIM setup, refer to [Set up SCIM for your organization](/langsmith/user-management#set-up-scim-for-your-organization).</Info>\n\n<div id=\"via-okta-custom-app-integration\">\n  <b>Via Custom App Integration</b>\n</div>\n\n<Warning>\n  SCIM is not compatible with this method of configuration. Refer to [**Via Okta Integration Network**](#via-okta-integration-network).\n</Warning>\n\n1. Log in to Okta as an administrator, and go to the **Okta Admin console**.\n2. Under **Applications** > **Applications** click **Create App Integration**.\n3. Select **OIDC - OpenID Connect** as the Sign-in method and **Web Application** as the Application type, then click **Next**.\n4. Enter an `App integration name` (e.g., `LangSmith`).\n5. Recommended: Check **Core grants > Refresh Token** (see [session length controls](#session-length-controls)).\n6. In **Sign-in redirect URIs** put the domain of your LangSmith instance followed by `/api/v1/oauth/custom-oidc/callback`, e.g., `https://langsmith.yourdomain.com/api/v1/oauth/custom-oidc/callback`. If your installation is configured with a subdomain / path prefix, include that in the URL, e.g., `https://langsmith.yourdomain.com/prefix/api/v1/oauth/custom-oidc/callback`.\n7. Remove the default URI under **Sign-out redirect URIs**.\n8. Under **Trusted Origins > Base URIs** add your langsmith URL with the protocol, e.g., `https://langsmith.yourdomain.com`.\n9. Select your desired option under **Assignments > Controlled access**:\n   * Allow everyone in your organization to access.\n   * Limit access to selected groups.\n   * Skip group assignment for now.\n10. Click **Save**.\n11. Under **Sign On > OpenID Connect ID Token** set **Issuer** to **Okta URL**.\n12. (Optional) Under **General > Login** set **Login initiated by** to `Either Okta or App` to enable IdP-initiated login.\n13. (Recommended) Under **General > Login > Email verification experience** fill in the **Callback URI** with the LangSmith URL, e.g., `https://langsmith.yourdomain.com`.\n14. Configure LangSmith to use this OAuth application (see [general configuration section](#configuration) for details about `initialOrgAdminEmail`):\n\n<CodeGroup>",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "</CodeGroup>\n\n#### SP-initiated SSO\n\nUsers can sign in using the **Login via SSO** button on the LangSmith homepage.\n\n## Without Client Secret (PKCE) (Deprecated)\n\nWe recommend running with a `Client Secret` if possible (previously we didn't support this). However, if your IdP does not support this, you can use the `Authorization Code with PKCE` flow.\n\nThis flow does *not* require a `Client Secret`. For the alternative workflow, refer to [With client secret](#with-client-secret-recommended).\n\n### Requirements\n\nThere are a couple of requirements for using OAuth SSO with LangSmith:\n\n* Your IdP must support the `Authorization Code with PKCE` [flow](https://www.oauth.com/oauth2-servers/pkce) (Google does not support this flow for example, but see [above](#with-client-secret-recommended) for an alternative configuration that Google supports). This is often displayed in your OAuth Provider as configuring a \"Single Page Application (SPA)\"\n* Your IdP must support using an external discovery/issuer URL. We will use this to fetch the necessary routes and keys for your IdP.\n* You must provide the `OIDC`, `email`, and `profile` scopes to LangSmith. We use these to fetch the necessary user information and email for your users.\n* You will need to set the callback URL in your IdP to `http://<host>/oauth-callback`, where host is the domain or IP you have provisioned for your LangSmith instance. This is where your IdP will redirect the user after they have authenticated.\n* You will need to provide the `oauthClientId` and `oauthIssuerUrl` in your `values.yaml` file. This is where you will configure your LangSmith instance.\n\n<CodeGroup>",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    }
  ],
  "headings": [
    {
      "level": "h2",
      "text": "Overview",
      "id": "overview"
    },
    {
      "level": "h2",
      "text": "With Client Secret (Recommended)",
      "id": "with-client-secret-(recommended)"
    },
    {
      "level": "h3",
      "text": "Prerequisites",
      "id": "prerequisites"
    },
    {
      "level": "h3",
      "text": "Configuration",
      "id": "configuration"
    },
    {
      "level": "h3",
      "text": "Session length controls",
      "id": "session-length-controls"
    },
    {
      "level": "h3",
      "text": "Override Sub Claim",
      "id": "override-sub-claim"
    },
    {
      "level": "h3",
      "text": "Google Workspace IdP setup",
      "id": "google-workspace-idp-setup"
    },
    {
      "level": "h3",
      "text": "Okta IdP setup",
      "id": "okta-idp-setup"
    },
    {
      "level": "h2",
      "text": "Without Client Secret (PKCE) (Deprecated)",
      "id": "without-client-secret-(pkce)-(deprecated)"
    },
    {
      "level": "h3",
      "text": "Requirements",
      "id": "requirements"
    }
  ],
  "url": "llms-txt#set-up-sso-with-oauth2.0-and-oidc",
  "links": []
}
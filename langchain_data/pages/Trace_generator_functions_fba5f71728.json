{
  "title": "Trace generator functions",
  "content": "Source: https://docs.langchain.com/langsmith/trace-generator-functions\n\nIn most LLM applications, you will want to stream outputs to minimize the time to the first token seen by the user.\n\nLangSmith's tracing functionality natively supports streamed outputs via `generator` functions. Below is an example.\n\n## Aggregate Results[\u000b](#aggregate-results \"Direct link to Aggregate Results\")\n\nBy default, the `outputs` of the traced function are aggregated into a single array in LangSmith. If you want to customize how it is stored (for instance, concatenating the outputs into a single string), you can use the `aggregate` option (`reduce_fn` in python). This is especially useful for aggregating streamed LLM outputs.\n\n<Note>\n  Aggregating outputs **only** impacts the traced representation of the outputs. It doesn not alter the values returned by your function.\n</Note>\n\n<Callout icon=\"pen-to-square\" iconType=\"regular\">\n  [Edit this page on GitHub](https://github.com/langchain-ai/docs/edit/main/src/langsmith/trace-generator-functions.mdx) or [file an issue](https://github.com/langchain-ai/docs/issues/new/choose).\n</Callout>\n\n<Tip icon=\"terminal\" iconType=\"regular\">\n  [Connect these docs](/use-these-docs) to Claude, VSCode, and more via MCP for real-time answers.\n</Tip>",
  "code_samples": [
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "</CodeGroup>\n\n## Aggregate Results[\u000b](#aggregate-results \"Direct link to Aggregate Results\")\n\nBy default, the `outputs` of the traced function are aggregated into a single array in LangSmith. If you want to customize how it is stored (for instance, concatenating the outputs into a single string), you can use the `aggregate` option (`reduce_fn` in python). This is especially useful for aggregating streamed LLM outputs.\n\n<Note>\n  Aggregating outputs **only** impacts the traced representation of the outputs. It doesn not alter the values returned by your function.\n</Note>\n\n<CodeGroup>",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    }
  ],
  "headings": [
    {
      "level": "h2",
      "text": "Aggregate Results[\u000b](#aggregate-results \"Direct link to Aggregate Results\")",
      "id": "aggregate-results[\u000b](#aggregate-results-\"direct-link-to-aggregate-results\")"
    }
  ],
  "url": "llms-txt#trace-generator-functions",
  "links": []
}
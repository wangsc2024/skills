{
  "title": "Define regex patterns for various PII",
  "content": "SSN_PATTERN = re.compile(r'\\b\\d{3}-\\d{2}-\\d{4}\\b')\nCREDIT_CARD_PATTERN = re.compile(r'\\b(?:\\d[ -]*?){13,16}\\b')\nEMAIL_PATTERN = re.compile(r'\\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Z|a-z]{2,7}\\b')\nPHONE_PATTERN = re.compile(r'\\b(?:\\+?1[-.\\s]?)?\\(?\\d{3}\\)?[-.\\s]?\\d{3}[-.\\s]?\\d{4}\\b')\nFULL_NAME_PATTERN = re.compile(r'\\b([A-Z][a-z]*\\s[A-Z][a-z]*)\\b')\n\ndef regex_anonymize(text):\n    \"\"\"\n    Anonymize sensitive information in the text using regex patterns.\n    Args:\n        text (str): The input text to be anonymized.\n    Returns:\n        str: The anonymized text.\n    \"\"\"\n    # Replace sensitive information with placeholders\n    text = SSN_PATTERN.sub('[REDACTED SSN]', text)\n    text = CREDIT_CARD_PATTERN.sub('[REDACTED CREDIT CARD]', text)\n    text = EMAIL_PATTERN.sub('[REDACTED EMAIL]', text)\n    text = PHONE_PATTERN.sub('[REDACTED PHONE]', text)\n    text = FULL_NAME_PATTERN.sub('[REDACTED NAME]', text)\n    return text\n\ndef recursive_anonymize(data, depth=10):\n    \"\"\"\n    Recursively traverse the data structure and anonymize sensitive information.\n    Args:\n        data (any): The input data to be anonymized.\n        depth (int): The current recursion depth to prevent excessive recursion.\n    Returns:\n        any: The anonymized data.\n    \"\"\"\n    if depth == 0:\n        return data\n    if isinstance(data, dict):\n        anonymized_dict = {}\n        for k, v in data.items():\n            anonymized_value = recursive_anonymize(v, depth - 1)\n            anonymized_dict[k] = anonymized_value\n        return anonymized_dict\n    elif isinstance(data, list):\n        anonymized_list = []\n        for item in data:\n            anonymized_item = recursive_anonymize(item, depth - 1)\n            anonymized_list.append(anonymized_item)\n        return anonymized_list\n    elif isinstance(data, str):\n        anonymized_data = regex_anonymize(data)\n        return anonymized_data\n    else:\n        return data\n\nopenai_client = wrap_openai(openai.Client())",
  "code_samples": [],
  "headings": [],
  "url": "llms-txt#define-regex-patterns-for-various-pii",
  "links": []
}
{
  "title": "How to create and manage datasets programmatically",
  "content": "Source: https://docs.langchain.com/langsmith/manage-datasets-programmatically\n\nYou can use the Python and TypeScript SDK to manage datasets programmatically. This includes creating, updating, and deleting datasets, as well as adding examples to them.\n\n### Create a dataset from list of values\n\nThe most flexible way to make a dataset using the client is by creating examples from a list of inputs and optional outputs. Below is an example.\n\nNote that you can add arbitrary metadata to each example, such as a note or a source. The metadata is stored as a dictionary.\n\n<Check>\n  If you have many examples to create, consider using the `create_examples`/`createExamples` method to create multiple examples in a single request. If creating a single example, you can use the `create_example`/`createExample` method.\n</Check>\n\n### Create a dataset from traces\n\nTo create datasets from the runs (spans) of your traces, you can use the same approach. For **many** more examples of how to fetch and filter runs, see the [export traces](/langsmith/export-traces) guide. Below is an example:\n\n### Create a dataset from a CSV file\n\nIn this section, we will demonstrate how you can create a dataset by uploading a CSV file.\n\nFirst, ensure your CSV file is properly formatted with columns that represent your input and output keys. These keys will be utilized to map your data properly during the upload. You can specify an optional name and description for your dataset. Otherwise, the file name will be used as the dataset name and no description will be provided.\n\n### Create a dataset from pandas DataFrame (Python only)\n\nThe python client offers an additional convenience method to upload a dataset from a pandas dataframe.\n\nYou can programmatically fetch datasets from LangSmith using the `list_datasets`/`listDatasets` method in the Python and TypeScript SDKs. Below are some common calls.\n\n<Info>\n  Initialize the client before running the below code snippets.\n</Info>\n\n### Query all datasets\n\n### List datasets by name\n\nIf you want to search by the exact name, you can do the following:\n\nIf you want to do a case-invariant substring search, try the following:\n\n### List datasets by type\n\nYou can filter datasets by type. Below is an example querying for chat datasets.\n\nYou can programmatically fetch examples from LangSmith using the `list_examples`/`listExamples` method in the Python and TypeScript SDKs. Below are some common calls.\n\n<Info>\n  Initialize the client before running the below code snippets.\n</Info>\n\n### List all examples for a dataset\n\nYou can filter by dataset ID:\n\nOr you can filter by dataset name (this must exactly match the dataset name you want to query)\n\n### List examples by id\n\nYou can also list multiple examples all by ID.\n\n### List examples by metadata\n\nYou can also filter examples by metadata. Below is an example querying for examples with a specific metadata key-value pair. Under the hood, we check to see if the example's metadata contains the key-value pair(s) you specify.\n\nFor example, if you have an example with metadata `{\"foo\": \"bar\", \"baz\": \"qux\"}`, both `{foo: bar}` and `{baz: qux}` would match, as would `{foo: bar, baz: qux}`.\n\n### List examples by structured filter\n\nSimilar to how you can use the structured filter query language to [fetch runs](/langsmith/export-traces#use-filter-query-language), you can use it to fetch examples.\n\n<Note>\n  This is currently only available in v0.1.83 and later of the Python SDK and v0.1.35 and later of the TypeScript SDK.\n\nAdditionally, the structured filter query language is only supported for `metadata` fields.\n</Note>\n\nYou can use the `has` operator to fetch examples with metadata fields that contain specific key/value pairs and the `exists` operator to fetch examples with metadata fields that contain a specific key. Additionally, you can also chain multiple filters together using the `and` operator and negate a filter using the `not` operator.\n\n### Update single example\n\nYou can programmatically update examples from LangSmith using the `update_example`/`updateExample` method in the Python and TypeScript SDKs. Below is an example.\n\n### Bulk update examples\n\nYou can also programmatically update multiple examples in a single request with the `update_examples`/`updateExamples` method in the Python and TypeScript SDKs. Below is an example.\n\n<Callout icon=\"pen-to-square\" iconType=\"regular\">\n  [Edit this page on GitHub](https://github.com/langchain-ai/docs/edit/main/src/langsmith/manage-datasets-programmatically.mdx) or [file an issue](https://github.com/langchain-ai/docs/issues/new/choose).\n</Callout>\n\n<Tip icon=\"terminal\" iconType=\"regular\">\n  [Connect these docs](/use-these-docs) to Claude, VSCode, and more via MCP for real-time answers.\n</Tip>",
  "code_samples": [
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "</CodeGroup>\n\n### Create a dataset from traces\n\nTo create datasets from the runs (spans) of your traces, you can use the same approach. For **many** more examples of how to fetch and filter runs, see the [export traces](/langsmith/export-traces) guide. Below is an example:\n\n<CodeGroup>",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "</CodeGroup>\n\n### Create a dataset from a CSV file\n\nIn this section, we will demonstrate how you can create a dataset by uploading a CSV file.\n\nFirst, ensure your CSV file is properly formatted with columns that represent your input and output keys. These keys will be utilized to map your data properly during the upload. You can specify an optional name and description for your dataset. Otherwise, the file name will be used as the dataset name and no description will be provided.\n\n<CodeGroup>",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "</CodeGroup>\n\n### Create a dataset from pandas DataFrame (Python only)\n\nThe python client offers an additional convenience method to upload a dataset from a pandas dataframe.",
      "language": "unknown"
    },
    {
      "code": "## Fetch datasets\n\nYou can programmatically fetch datasets from LangSmith using the `list_datasets`/`listDatasets` method in the Python and TypeScript SDKs. Below are some common calls.\n\n<Info>\n  Initialize the client before running the below code snippets.\n</Info>\n\n<CodeGroup>",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "</CodeGroup>\n\n### Query all datasets\n\n<CodeGroup>",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "</CodeGroup>\n\n### List datasets by name\n\nIf you want to search by the exact name, you can do the following:\n\n<CodeGroup>",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "</CodeGroup>\n\nIf you want to do a case-invariant substring search, try the following:\n\n<CodeGroup>",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "</CodeGroup>\n\n### List datasets by type\n\nYou can filter datasets by type. Below is an example querying for chat datasets.\n\n<CodeGroup>",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "</CodeGroup>\n\n## Fetch examples\n\nYou can programmatically fetch examples from LangSmith using the `list_examples`/`listExamples` method in the Python and TypeScript SDKs. Below are some common calls.\n\n<Info>\n  Initialize the client before running the below code snippets.\n</Info>\n\n<CodeGroup>",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "</CodeGroup>\n\n### List all examples for a dataset\n\nYou can filter by dataset ID:\n\n<CodeGroup>",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "</CodeGroup>\n\nOr you can filter by dataset name (this must exactly match the dataset name you want to query)\n\n<CodeGroup>",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "</CodeGroup>\n\n### List examples by id\n\nYou can also list multiple examples all by ID.\n\n<CodeGroup>",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "</CodeGroup>\n\n### List examples by metadata\n\nYou can also filter examples by metadata. Below is an example querying for examples with a specific metadata key-value pair. Under the hood, we check to see if the example's metadata contains the key-value pair(s) you specify.\n\nFor example, if you have an example with metadata `{\"foo\": \"bar\", \"baz\": \"qux\"}`, both `{foo: bar}` and `{baz: qux}` would match, as would `{foo: bar, baz: qux}`.\n\n<CodeGroup>",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "</CodeGroup>\n\n### List examples by structured filter\n\nSimilar to how you can use the structured filter query language to [fetch runs](/langsmith/export-traces#use-filter-query-language), you can use it to fetch examples.\n\n<Note>\n  This is currently only available in v0.1.83 and later of the Python SDK and v0.1.35 and later of the TypeScript SDK.\n\n  Additionally, the structured filter query language is only supported for `metadata` fields.\n</Note>\n\nYou can use the `has` operator to fetch examples with metadata fields that contain specific key/value pairs and the `exists` operator to fetch examples with metadata fields that contain a specific key. Additionally, you can also chain multiple filters together using the `and` operator and negate a filter using the `not` operator.\n\n<CodeGroup>",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "</CodeGroup>\n\n## Update examples\n\n### Update single example\n\nYou can programmatically update examples from LangSmith using the `update_example`/`updateExample` method in the Python and TypeScript SDKs. Below is an example.\n\n<CodeGroup>",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "</CodeGroup>\n\n### Bulk update examples\n\nYou can also programmatically update multiple examples in a single request with the `update_examples`/`updateExamples` method in the Python and TypeScript SDKs. Below is an example.\n\n<CodeGroup>",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    }
  ],
  "headings": [
    {
      "level": "h2",
      "text": "Create a dataset",
      "id": "create-a-dataset"
    },
    {
      "level": "h3",
      "text": "Create a dataset from list of values",
      "id": "create-a-dataset-from-list-of-values"
    },
    {
      "level": "h3",
      "text": "Create a dataset from traces",
      "id": "create-a-dataset-from-traces"
    },
    {
      "level": "h3",
      "text": "Create a dataset from a CSV file",
      "id": "create-a-dataset-from-a-csv-file"
    },
    {
      "level": "h3",
      "text": "Create a dataset from pandas DataFrame (Python only)",
      "id": "create-a-dataset-from-pandas-dataframe-(python-only)"
    },
    {
      "level": "h2",
      "text": "Fetch datasets",
      "id": "fetch-datasets"
    },
    {
      "level": "h3",
      "text": "Query all datasets",
      "id": "query-all-datasets"
    },
    {
      "level": "h3",
      "text": "List datasets by name",
      "id": "list-datasets-by-name"
    },
    {
      "level": "h3",
      "text": "List datasets by type",
      "id": "list-datasets-by-type"
    },
    {
      "level": "h2",
      "text": "Fetch examples",
      "id": "fetch-examples"
    },
    {
      "level": "h3",
      "text": "List all examples for a dataset",
      "id": "list-all-examples-for-a-dataset"
    },
    {
      "level": "h3",
      "text": "List examples by id",
      "id": "list-examples-by-id"
    },
    {
      "level": "h3",
      "text": "List examples by metadata",
      "id": "list-examples-by-metadata"
    },
    {
      "level": "h3",
      "text": "List examples by structured filter",
      "id": "list-examples-by-structured-filter"
    },
    {
      "level": "h2",
      "text": "Update examples",
      "id": "update-examples"
    },
    {
      "level": "h3",
      "text": "Update single example",
      "id": "update-single-example"
    },
    {
      "level": "h3",
      "text": "Bulk update examples",
      "id": "bulk-update-examples"
    }
  ],
  "url": "llms-txt#how-to-create-and-manage-datasets-programmatically",
  "links": []
}
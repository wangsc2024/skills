{
  "title": "Monorepo support",
  "content": "Source: https://docs.langchain.com/langsmith/monorepo-support\n\nLangSmith supports deploying agents from monorepo setups where your agent code may depend on shared packages located elsewhere in the repository. This guide shows how to structure your monorepo and configure your `langgraph.json` file to work with shared dependencies.\n\n## Repository Structure\n\nFor complete working examples, see:\n\n* [Python monorepo example](https://github.com/langchain-ai/python-langraph-monorepo-example)\n* [JS monorepo example](https://github.com/langchain-ai/js-langgraph-monorepo-example)\n\n## LangGraph.json configuration\n\nPlace the langgraph.json file in your agent’s directory (not in the monorepo root). Ensure the file follows the required structure:\n\nThe Python implementation automatically handles packages in parent directories by:\n\n* Detecting relative paths that start with `\".\"`.\n* Adding parent directories to the Docker build context as needed.\n* Supporting both real packages (with `pyproject.toml`/`setup.py`) and simple Python modules.\n\nFor JavaScript monorepos:\n\n* Shared workspace dependencies are resolved automatically by your package manager.\n* Your `package.json` should reference shared packages using workspace syntax.\n\nExample `package.json` in the agent directory:\n\n## Building the application\n\nRun `langgraph build`:\n\nThe Python build process:\n\n1. Automatically detects relative dependency paths.\n2. Copies shared packages into the Docker build context.\n3. Installs all dependencies in the correct order.\n4. No special flags or commands required.\n\nThe JavaScript build process:\n\n1. Uses the directory you called `langgraph build` from (the monorepo root in this case) as the build context.\n2. Automatically detects your package manager (yarn, npm, pnpm, bun)\n3. Runs the appropriate install command.\n   * If you have one or both of a custom build/install command it will run from the directory you called `langgraph build` from.\n   * Otherwise, it will run from the directory where the `langgraph.json` file is located.\n4. Optionally runs a custom build command from the directory where the `langgraph.json` file is located (only if you pass the `--build-command` flag).\n\n## Tips and best practices\n\n1. **Keep agent configs in agent directories**: Place `langgraph.json` files in the specific agent directories, not at the monorepo root. This allows you to support multiple agents in the same monorepo, without having to deploy them all in the same LangSmith deployment.\n\n2. **Use relative paths for Python**: For Python monorepos, use relative paths like `\"../../shared-package\"` in the `dependencies` array.\n\n3. **Leverage workspace features for JS**: For JavaScript/TypeScript, use your package manager's workspace features to manage dependencies between packages.\n\n4. **Test locally first**: Always test your build locally before deploying to ensure all dependencies are correctly resolved.\n\n5. **Environment variables**: Keep environment files (`.env`) in your agent directories for environment-specific configuration.\n\n<Callout icon=\"pen-to-square\" iconType=\"regular\">\n  [Edit this page on GitHub](https://github.com/langchain-ai/docs/edit/main/src/langsmith/monorepo-support.mdx) or [file an issue](https://github.com/langchain-ai/docs/issues/new/choose).\n</Callout>\n\n<Tip icon=\"terminal\" iconType=\"regular\">\n  [Connect these docs](/use-these-docs) to Claude, VSCode, and more via MCP for real-time answers.\n</Tip>",
  "code_samples": [
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "</CodeGroup>\n\n## LangGraph.json configuration\n\nPlace the langgraph.json file in your agent’s directory (not in the monorepo root). Ensure the file follows the required structure:\n\n<CodeGroup>",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "</CodeGroup>\n\nThe Python implementation automatically handles packages in parent directories by:\n\n* Detecting relative paths that start with `\".\"`.\n* Adding parent directories to the Docker build context as needed.\n* Supporting both real packages (with `pyproject.toml`/`setup.py`) and simple Python modules.\n\nFor JavaScript monorepos:\n\n* Shared workspace dependencies are resolved automatically by your package manager.\n* Your `package.json` should reference shared packages using workspace syntax.\n\nExample `package.json` in the agent directory:",
      "language": "unknown"
    },
    {
      "code": "## Building the application\n\nRun `langgraph build`:\n\n<CodeGroup>",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    }
  ],
  "headings": [
    {
      "level": "h2",
      "text": "Repository Structure",
      "id": "repository-structure"
    },
    {
      "level": "h2",
      "text": "LangGraph.json configuration",
      "id": "langgraph.json-configuration"
    },
    {
      "level": "h2",
      "text": "Building the application",
      "id": "building-the-application"
    },
    {
      "level": "h2",
      "text": "Tips and best practices",
      "id": "tips-and-best-practices"
    }
  ],
  "url": "llms-txt#monorepo-support",
  "links": []
}
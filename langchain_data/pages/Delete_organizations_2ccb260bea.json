{
  "title": "Delete organizations",
  "content": "Source: https://docs.langchain.com/langsmith/script-delete-an-organization\n\nThe LangSmith UI does not currently support the deletion of an individual organization from a self-hosted instance of LangSmith. This, however, can be accomplished by directly removing all traces from all materialized views in ClickHouse (except the runs\\_history views) and the runs and feedbacks tables and then removing the Organization from the Postgres tenants table.\n\nThis command using the Organization ID as an argument.\n\nEnsure you have the following tools/items ready.\n\n* [https://kubernetes.io/docs/tasks/tools/](https://kubernetes.io/docs/tasks/tools/)\n\n* [https://www.postgresql.org/download/](https://www.postgresql.org/download/)\n\n3. PostgreSQL database connection:\n\n* Host\n   * Port\n   * Username\n     * If using the bundled version, this is `postgres`\n   * Password\n     * If using the bundled version, this is `postgres`\n   * Database name\n     * If using the bundled version, this is `postgres`\n\n4. Clickhouse database credentials\n\n* Host\n   * Port\n   * Username\n     * If using the bundled version, this is `default`\n   * Password\n     * If using the bundled version, this is `password`\n   * Database name\n     * If using the bundled version, this is `default`\n\n5. Connectivity to the PostgreSQL database from the machine you will be running the migration script on.\n\n* If you are using the bundled version, you may need to port forward the postgresql service to your local machine.\n   * Run `kubectl port-forward svc/langsmith-postgres 5432:5432` to port forward the postgresql service to your local machine.\n\n6. Connectivity to the Clickhouse database from the machine you will be running the migration script on.\n\n* If you are using the bundled version, you may need to port forward the clickhouse service to your local machine.\n     * Run `kubectl port-forward svc/langsmith-clickhouse 8123:8123` to port forward the clickhouse service to your local machine.\n   * If you are using Clickhouse Cloud you will want to specify the --ssl flag and use port `8443`\n\n7. The script to delete an organization\n\n* You can download the script from [here](https://github.com/langchain-ai/helm/blob/main/charts/langsmith/scripts/delete_organization_sh)\n\n### Running the deletion script for a single organization\n\nRun the following command to run the organization removal script:\n\nFor example, if you are using the bundled version with port-forwarding, the command would look like:\n\nIf you visit the LangSmith UI, you should now see organization is no longer present.\n\n<Callout icon=\"pen-to-square\" iconType=\"regular\">\n  [Edit this page on GitHub](https://github.com/langchain-ai/docs/edit/main/src/langsmith/script-delete-an-organization.mdx) or [file an issue](https://github.com/langchain-ai/docs/issues/new/choose).\n</Callout>\n\n<Tip icon=\"terminal\" iconType=\"regular\">\n  [Connect these docs](/use-these-docs) to Claude, VSCode, and more via MCP for real-time answers.\n</Tip>",
  "code_samples": [
    {
      "code": "For example, if you are using the bundled version with port-forwarding, the command would look like:",
      "language": "unknown"
    }
  ],
  "headings": [
    {
      "level": "h3",
      "text": "Prerequisites",
      "id": "prerequisites"
    },
    {
      "level": "h3",
      "text": "Running the deletion script for a single organization",
      "id": "running-the-deletion-script-for-a-single-organization"
    }
  ],
  "url": "llms-txt#delete-organizations",
  "links": []
}
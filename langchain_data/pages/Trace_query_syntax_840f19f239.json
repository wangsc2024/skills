{
  "title": "Trace query syntax",
  "content": "Source: https://docs.langchain.com/langsmith/trace-query-syntax\n\nUsing the method in the SDK or endpoint in the API, you can filter runs to analyze and export.\n\n| Keys                          | Description                                                                                                                                                                                                                    |\n| ----------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |\n| `project_id` / `project_name` | The project(s) to fetch runs from - can be a single project or a list of projects.                                                                                                                                             |\n| `trace_id`                    | Fetch runs that are part of a specific trace.                                                                                                                                                                                  |\n| `run_type`                    | The type of run to get, such as `llm`, `chain`, `tool`, `retriever`, etc.                                                                                                                                                      |\n| `dataset_name` / `dataset_id` | Fetch runs that are associated with an example row in the specified dataset. This is useful for comparing prompts or models over a given dataset.                                                                              |\n| `reference_example_id`        | Fetch runs that are associated with a specific example row. This is useful for comparing prompts or models on a given input.                                                                                                   |\n| `parent_run_id`               | Fetch runs that are children of a given run. This is useful for fetching runs grouped together using the context manager or for fetching an agent trajectory.                                                                  |\n| `error`                       | Fetch runs that errored or did not error.                                                                                                                                                                                      |\n| `run_ids`                     | Fetch runs with a given list of run ids. Note: **This will ignore all other filtering arguments.**                                                                                                                             |\n| `filter`                      | Fetch runs that match a given structured filter statement. See the guide below for more information.                                                                                                                           |\n| `trace_filter`                | Filter to apply to the ROOT run in the trace tree. This is meant to be used in conjunction with the regular `filter` parameter to let you filter runs by attributes of the root run within a trace.                            |\n| `tree_filter`                 | Filter to apply to OTHER runs in the trace tree, including sibling and child runs. This is meant to be used in conjunction with the regular `filter` parameter to let you filter runs by attributes of any run within a trace. |\n| `is_root`                     | Only return root runs.                                                                                                                                                                                                         |\n| `select`                      | Select the fields to return in the response. By default, all fields are returned. See [run data format](/langsmith/run-data-format) for available fields.                                                                      |\n| `query` (*experimental*)      | Natural language query, which translates your query into a filter statement.                                                                                                                                                   |\n\n<Note>\n  **Performance tip**: Passing the `select` parameter and excluding `inputs` and `outputs` from the list can significantly improve query performance and reduce response sizes, especially for large runs.\n</Note>\n\n## Filter query language\n\nLangSmith supports powerful filtering capabilities with a filter query language to permit complex filtering operations when fetching runs.\n\nThe filtering grammar is based on common comparators on fields in the run object. Supported comparators include:\n\n* `gte` (greater than or equal to)\n* `gt` (greater than)\n* `lte` (less than or equal to)\n* `lt` (less than)\n* `eq` (equal to)\n* `neq` (not equal to)\n* `has` (check if run contains a tag or metadata json blob)\n* `search` (search for a substring in a string field)\n\nAdditionally, you can combine multiple comparisons through the `and` operator.\n\nThese can be applied on fields of the run object, such as its `id`, `name`, `run_type`, `start_time` / `end_time`, `latency`, `total_tokens`, `error`, `execution_order`, `tags`, and any associated feedback through `feedback_key` and `feedback_score`.\n\n<Callout icon=\"pen-to-square\" iconType=\"regular\">\n  [Edit this page on GitHub](https://github.com/langchain-ai/docs/edit/main/src/langsmith/trace-query-syntax.mdx) or [file an issue](https://github.com/langchain-ai/docs/issues/new/choose).\n</Callout>\n\n<Tip icon=\"terminal\" iconType=\"regular\">\n  [Connect these docs](/use-these-docs) to Claude, VSCode, and more via MCP for real-time answers.\n</Tip>",
  "code_samples": [],
  "headings": [
    {
      "level": "h2",
      "text": "Filter arguments",
      "id": "filter-arguments"
    },
    {
      "level": "h2",
      "text": "Filter query language",
      "id": "filter-query-language"
    }
  ],
  "url": "llms-txt#trace-query-syntax",
  "links": []
}
{
  "url": "https://react.dev/learn/react-compiler/introduction",
  "title": "Introduction",
  "content": "React Compiler is a new build-time tool that automatically optimizes your React app. It works with plain JavaScript, and understands the Rules of React, so you don’t need to rewrite any code to use it.\n\nReact Compiler automatically optimizes your React application at build time. React is often fast enough without optimization, but sometimes you need to manually memoize components and values to keep your app responsive. This manual memoization is tedious, easy to get wrong, and adds extra code to maintain. React Compiler does this optimization automatically for you, freeing you from this mental burden so you can focus on building features.\n\nWithout the compiler, you need to manually memoize components and values to optimize re-renders:\n\nThis manual memoization has a subtle bug that breaks memoization:\n\nEven though handleClick is wrapped in useCallback, the arrow function () => handleClick(item) creates a new function every time the component renders. This means that Item will always receive a new onClick prop, breaking memoization.\n\nReact Compiler is able to optimize this correctly with or without the arrow function, ensuring that Item only re-renders when props.onClick changes.\n\nWith React Compiler, you write the same code without manual memoization:\n\nSee this example in the React Compiler Playground\n\nReact Compiler automatically applies the optimal memoization, ensuring your app only re-renders when necessary.\n\nReact Compiler’s automatic memoization is primarily focused on improving update performance (re-rendering existing components), so it focuses on these two use cases:\n\nReact lets you express your UI as a function of their current state (more concretely: their props, state, and context). In its current implementation, when a component’s state changes, React will re-render that component and all of its children — unless you have applied some form of manual memoization with useMemo(), useCallback(), or React.memo(). For example, in the following example, <MessageButton> will re-render whenever <FriendList>’s state changes:\n\nSee this example in the React Compiler Playground\n\nReact Compiler automatically applies the equivalent of manual memoization, ensuring that only the relevant parts of an app re-render as state changes, which is sometimes referred to as “fine-grained reactivity”. In the above example, React Compiler determines that the return value of <FriendListCard /> can be reused even as friends changes, and can avoid recreating this JSX and avoid re-rendering <MessageButton> as the count changes.\n\nReact Compiler can also automatically memoize expensive calculations used during rendering:\n\nSee this example in the React Compiler Playground\n\nHowever, if expensivelyProcessAReallyLargeArrayOfObjects is truly an expensive function, you may want to consider implementing its own memoization outside of React, because:\n\nSo if expensivelyProcessAReallyLargeArrayOfObjects was used in many different components, even if the same exact items were passed down, that expensive calculation would be run repeatedly. We recommend profiling first to see if it really is that expensive before making code more complicated.\n\nWe encourage everyone to start using React Compiler. While the compiler is still an optional addition to React today, in the future some features may require the compiler in order to fully work.\n\nReact Compiler is now stable and has been tested extensively in production. While it has been used in production at companies like Meta, rolling out the compiler to production for your app will depend on the health of your codebase and how well you’ve followed the Rules of React.\n\nReact Compiler can be installed across several build tools such as Babel, Vite, Metro, and Rsbuild.\n\nReact Compiler is primarily a light Babel plugin wrapper around the core compiler, which was designed to be decoupled from Babel itself. While the initial stable version of the compiler will remain primarily a Babel plugin, we are working with the swc and oxc teams to build first class support for React Compiler so you won’t have to add Babel back to your build pipelines in the future.\n\nNext.js users can enable the swc-invoked React Compiler by using v15.3.1 and up.\n\nBy default, React Compiler will memoize your code based on its analysis and heuristics. In most cases, this memoization will be as precise, or moreso, than what you may have written.\n\nHowever, in some cases developers may need more control over memoization. The useMemo and useCallback hooks can continue to be used with React Compiler as an escape hatch to provide control over which values are memoized. A common use-case for this is if a memoized value is used as an effect dependency, in order to ensure that an effect does not fire repeatedly even when its dependencies do not meaningfully change.\n\nFor new code, we recommend relying on the compiler for memoization and using useMemo/useCallback where needed to achieve precise control.\n\nFor existing code, we recommend either leaving existing memoization in place (removing it can change compilation output) or carefully testing before removing the memoization.\n\nThis section will help you get started with React Compiler and understand how to use it effectively in your projects.\n\nIn addition to these docs, we recommend checking the React Compiler Working Group for additional information and discussion about the compiler.",
  "headings": [
    {
      "level": "h1",
      "text": "Introduction",
      "id": ""
    },
    {
      "level": "h3",
      "text": "You will learn",
      "id": ""
    },
    {
      "level": "h2",
      "text": "What does React Compiler do?",
      "id": "what-does-react-compiler-do"
    },
    {
      "level": "h3",
      "text": "Before React Compiler",
      "id": "before-react-compiler"
    },
    {
      "level": "h3",
      "text": "Note",
      "id": ""
    },
    {
      "level": "h3",
      "text": "After React Compiler",
      "id": "after-react-compiler"
    },
    {
      "level": "h5",
      "text": "Deep Dive",
      "id": ""
    },
    {
      "level": "h4",
      "text": "What kind of memoization does React Compiler add?",
      "id": "what-kind-of-memoization-does-react-compiler-add"
    },
    {
      "level": "h4",
      "text": "Optimizing Re-renders",
      "id": "optimizing-re-renders"
    },
    {
      "level": "h4",
      "text": "Expensive calculations also get memoized",
      "id": "expensive-calculations-also-get-memoized"
    },
    {
      "level": "h2",
      "text": "Should I try out the compiler?",
      "id": "should-i-try-out-the-compiler"
    },
    {
      "level": "h3",
      "text": "Is it safe to use?",
      "id": "is-it-safe-to-use"
    },
    {
      "level": "h2",
      "text": "What build tools are supported?",
      "id": "what-build-tools-are-supported"
    },
    {
      "level": "h2",
      "text": "What should I do about useMemo, useCallback, and React.memo?",
      "id": "what-should-i-do-about-usememo-usecallback-and-reactmemo"
    },
    {
      "level": "h2",
      "text": "Try React Compiler",
      "id": "try-react-compiler"
    },
    {
      "level": "h2",
      "text": "Additional resources",
      "id": "additional-resources"
    }
  ],
  "code_samples": [
    {
      "code": "import { useMemo, useCallback, memo } from 'react';const ExpensiveComponent = memo(function ExpensiveComponent({ data, onClick }) {  const processedData = useMemo(() => {    return expensiveProcessing(data);  }, [data]);  const handleClick = useCallback((item) => {    onClick(item.id);  }, [onClick]);  return (    <div>      {processedData.map(item => (        <Item key={item.id} onClick={() => handleClick(item)} />      ))}    </div>  );});",
      "language": "jsx"
    },
    {
      "code": "<Item key={item.id} onClick={() => handleClick(item)} />",
      "language": "jsx"
    },
    {
      "code": "function ExpensiveComponent({ data, onClick }) {  const processedData = expensiveProcessing(data);  const handleClick = (item) => {    onClick(item.id);  };  return (    <div>      {processedData.map(item => (        <Item key={item.id} onClick={() => handleClick(item)} />      ))}    </div>  );}",
      "language": "jsx"
    },
    {
      "code": "function FriendList({ friends }) {  const onlineCount = useFriendOnlineCount();  if (friends.length === 0) {    return <NoFriends />;  }  return (    <div>      <span>{onlineCount} online</span>      {friends.map((friend) => (        <FriendListCard key={friend.id} friend={friend} />      ))}      <MessageButton />    </div>  );}",
      "language": "jsx"
    },
    {
      "code": "// **Not** memoized by React Compiler, since this is not a component or hookfunction expensivelyProcessAReallyLargeArrayOfObjects() { /* ... */ }// Memoized by React Compiler since this is a componentfunction TableContainer({ items }) {  // This function call would be memoized:  const data = expensivelyProcessAReallyLargeArrayOfObjects(items);  // ...}",
      "language": "javascript"
    }
  ],
  "patterns": [],
  "links": [
    "https://react.dev/learn",
    "https://react.dev/reference/react",
    "https://react.dev/learn/tutorial-tic-tac-toe",
    "https://react.dev/learn/thinking-in-react",
    "https://react.dev/learn/installation",
    "https://react.dev/learn/creating-a-react-app",
    "https://react.dev/learn/build-a-react-app-from-scratch",
    "https://react.dev/learn/add-react-to-an-existing-project",
    "https://react.dev/learn/setup",
    "https://react.dev/learn/editor-setup",
    "https://react.dev/learn/typescript",
    "https://react.dev/learn/react-developer-tools",
    "https://react.dev/learn/react-compiler",
    "https://react.dev/learn/react-compiler/introduction",
    "https://react.dev/learn/react-compiler/installation",
    "https://react.dev/learn/react-compiler/incremental-adoption",
    "https://react.dev/learn/react-compiler/debugging",
    "https://react.dev/learn/describing-the-ui",
    "https://react.dev/learn/your-first-component",
    "https://react.dev/learn/importing-and-exporting-components",
    "https://react.dev/learn/writing-markup-with-jsx",
    "https://react.dev/learn/javascript-in-jsx-with-curly-braces",
    "https://react.dev/learn/passing-props-to-a-component",
    "https://react.dev/learn/conditional-rendering",
    "https://react.dev/learn/rendering-lists",
    "https://react.dev/learn/keeping-components-pure",
    "https://react.dev/learn/understanding-your-ui-as-a-tree",
    "https://react.dev/learn/adding-interactivity",
    "https://react.dev/learn/responding-to-events",
    "https://react.dev/learn/state-a-components-memory",
    "https://react.dev/learn/render-and-commit",
    "https://react.dev/learn/state-as-a-snapshot",
    "https://react.dev/learn/queueing-a-series-of-state-updates",
    "https://react.dev/learn/updating-objects-in-state",
    "https://react.dev/learn/updating-arrays-in-state",
    "https://react.dev/learn/managing-state",
    "https://react.dev/learn/reacting-to-input-with-state",
    "https://react.dev/learn/choosing-the-state-structure",
    "https://react.dev/learn/sharing-state-between-components",
    "https://react.dev/learn/preserving-and-resetting-state",
    "https://react.dev/learn/extracting-state-logic-into-a-reducer",
    "https://react.dev/learn/passing-data-deeply-with-context",
    "https://react.dev/learn/scaling-up-with-reducer-and-context",
    "https://react.dev/learn/escape-hatches",
    "https://react.dev/learn/referencing-values-with-refs",
    "https://react.dev/learn/manipulating-the-dom-with-refs",
    "https://react.dev/learn/synchronizing-with-effects",
    "https://react.dev/learn/you-might-not-need-an-effect",
    "https://react.dev/learn/lifecycle-of-reactive-effects",
    "https://react.dev/learn/separating-events-from-effects",
    "https://react.dev/learn/removing-effect-dependencies",
    "https://react.dev/learn/reusing-logic-with-custom-hooks",
    "https://react.dev/reference/rules",
    "https://react.dev/reference/react/useMemo",
    "https://react.dev/reference/react-compiler/target",
    "https://react.dev/reference/react-compiler/configuration",
    "https://react.dev/reference/react-compiler/compiling-libraries",
    "https://react.dev/reference/react-dom"
  ]
}